<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>0 to Production in Twelve Weeks with F# on the Web</title>
    <meta name="description" content="The story of how Tachyus developed an application using F# in twelve weeks and replaced a customer's existing system.">
    <meta name="author" content="Ryan Riley">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="//code.jquery.com/jquery-1.8.0.js"></script>
    <script src="//code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/style.css" />
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/deedle.css" />
    <script src="fsharp.formatting/styles/tips.js" type="text/javascript"></script>
    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>
<body>
    <div class="reveal">
        <div class="tip" id="fs1">namespace Microsoft</div>
<div class="tip" id="fs2">namespace System</div>
<div class="tip" id="fs3">namespace System.Collections</div>
<div class="tip" id="fs4">namespace System.Collections.Generic</div>
<div class="tip" id="fs5">namespace System.Net</div>
<div class="tip" id="fs6">namespace System.Net.Http</div>
<div class="tip" id="fs7">namespace System.Threading</div>
<div class="tip" id="fs8">namespace System.Threading.Tasks</div>
<div class="tip" id="fs9">namespace System.Web</div>
<div class="tip" id="fs10">Multiple items<br />val Failure : message:string -&gt; exn<br /><br />Full name: Microsoft.FSharp.Core.Operators.Failure<br /><br />--------------------<br />active recognizer Failure: exn -&gt; string option<br /><br />Full name: Microsoft.FSharp.Core.Operators.( |Failure|_| )</div>
<div class="tip" id="fs11">union case Choice.Choice1Of2: &#39;T1 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;</div>
<div class="tip" id="fs12">val x : &#39;a</div>
<div class="tip" id="fs13">union case Choice.Choice2Of2: &#39;T2 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;</div>
<div class="tip" id="fs14">val x : &#39;b</div>
<div class="tip" id="fs15">active recognizer Failure: exn -&gt; string option<br /><br />Full name: Microsoft.FSharp.Core.Operators.( |Failure|_| )</div>
<div class="tip" id="fs16">Multiple items<br />type LiteralAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; LiteralAttribute<br /><br />Full name: Microsoft.FSharp.Core.LiteralAttribute<br /><br />--------------------<br />new : unit -&gt; LiteralAttribute</div>
<div class="tip" id="fs17">val connectionString : string<br /><br />Full name: Document.connectionString</div>
<div class="tip" id="fs18">val key : string<br /><br />Full name: Document.key</div>
<div class="tip" id="fs19">type AppDomain =<br />&#160;&#160;inherit MarshalByRefObject<br />&#160;&#160;member ActivationContext : ActivationContext<br />&#160;&#160;member AppendPrivatePath : path:string -&gt; unit<br />&#160;&#160;member ApplicationIdentity : ApplicationIdentity<br />&#160;&#160;member ApplicationTrust : ApplicationTrust<br />&#160;&#160;member ApplyPolicy : assemblyName:string -&gt; string<br />&#160;&#160;member BaseDirectory : string<br />&#160;&#160;member ClearPrivatePath : unit -&gt; unit<br />&#160;&#160;member ClearShadowCopyPath : unit -&gt; unit<br />&#160;&#160;member CreateComInstanceFrom : assemblyName:string * typeName:string -&gt; ObjectHandle + 1 overload<br />&#160;&#160;member CreateInstance : assemblyName:string * typeName:string -&gt; ObjectHandle + 3 overloads<br />&#160;&#160;...<br /><br />Full name: System.AppDomain</div>
<div class="tip" id="fs20">property AppDomain.CurrentDomain: AppDomain</div>
<div class="tip" id="fs21">AppDomain.SetData(name: string, data: obj) : unit<br />AppDomain.SetData(name: string, data: obj, permission: Security.IPermission) : unit</div>
<div class="tip" id="fs22">val connString : Lazy&lt;obj&gt;<br /><br />Full name: Document.connString</div>
<div class="tip" id="fs23">AppDomain.GetData(name: string) : obj</div>
<div class="tip" id="fs24">Multiple items<br />namespace System.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs25">type GetTodos = obj<br /><br />Full name: Document.GetTodos</div>
<div class="tip" id="fs26">type GetTodo = obj<br /><br />Full name: Document.GetTodo</div>
<div class="tip" id="fs27">val result : obj<br /><br />Full name: Document.result</div>
<div class="tip" id="fs28">val async : AsyncBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.async</div>
<div class="tip" id="fs29">val cmd : GetTodo</div>
<div class="tip" id="fs30">val id : x:&#39;T -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.id</div>
<div class="tip" id="fs31">Multiple items<br />type Async<br />static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member CancelDefaultToken : unit -&gt; unit<br />static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg:&#39;Arg1 * beginAction:(&#39;Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * beginAction:(&#39;Arg1 * &#39;Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * arg3:&#39;Arg3 * beginAction:(&#39;Arg1 * &#39;Arg2 * &#39;Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member Ignore : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;unit&gt;<br />static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />static member Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;<br />static member RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T<br />static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;<br />static member StartChild : computation:Async&lt;&#39;T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;&#39;T&gt;&gt;<br />static member StartChildAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions -&gt; Async&lt;Task&lt;&#39;T&gt;&gt;<br />static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartWithContinuations : computation:Async&lt;&#39;T&gt; * continuation:(&#39;T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />static member TryCancelled : computation:Async&lt;&#39;T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member CancellationToken : Async&lt;CancellationToken&gt;<br />static member DefaultCancellationToken : CancellationToken<br /><br />Full name: Microsoft.FSharp.Control.Async<br /><br />--------------------<br />type Async&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;</div>
<div class="tip" id="fs32">static member Async.RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T</div>
<div class="tip" id="fs33">val todo : obj<br /><br />Full name: Document.todo</div>
<div class="tip" id="fs34">type Req = HttpRequestMessage<br /><br />Full name: Document.Req</div>
<div class="tip" id="fs35">Multiple items<br />type HttpRequestMessage =<br />&#160;&#160;new : unit -&gt; HttpRequestMessage + 2 overloads<br />&#160;&#160;member Content : HttpContent with get, set<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member Headers : HttpRequestHeaders<br />&#160;&#160;member Method : HttpMethod with get, set<br />&#160;&#160;member Properties : IDictionary&lt;string, obj&gt;<br />&#160;&#160;member RequestUri : Uri with get, set<br />&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;member Version : Version with get, set<br /><br />Full name: System.Net.Http.HttpRequestMessage<br /><br />--------------------<br />HttpRequestMessage() : unit<br />HttpRequestMessage(method: HttpMethod, requestUri: Uri) : unit<br />HttpRequestMessage(method: HttpMethod, requestUri: string) : unit</div>
<div class="tip" id="fs36">type Res = HttpResponseMessage<br /><br />Full name: Document.Res</div>
<div class="tip" id="fs37">Multiple items<br />type HttpResponseMessage =<br />&#160;&#160;new : unit -&gt; HttpResponseMessage + 1 overload<br />&#160;&#160;member Content : HttpContent with get, set<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member EnsureSuccessStatusCode : unit -&gt; HttpResponseMessage<br />&#160;&#160;member Headers : HttpResponseHeaders<br />&#160;&#160;member IsSuccessStatusCode : bool<br />&#160;&#160;member ReasonPhrase : string with get, set<br />&#160;&#160;member RequestMessage : HttpRequestMessage with get, set<br />&#160;&#160;member StatusCode : HttpStatusCode with get, set<br />&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.Net.Http.HttpResponseMessage<br /><br />--------------------<br />HttpResponseMessage() : unit<br />HttpResponseMessage(statusCode: HttpStatusCode) : unit</div>
<div class="tip" id="fs38">Multiple items<br />namespace System.Net.Http<br /><br />--------------------<br />type Http = Req -&gt; Res<br /><br />Full name: Document.Http</div>
<div class="tip" id="fs39">type HttpWebApi = Req -&gt; Task&lt;Res&gt;<br /><br />Full name: Document.HttpWebApi</div>
<div class="tip" id="fs40">Multiple items<br />type Task =<br />&#160;&#160;new : action:Action -&gt; Task + 7 overloads<br />&#160;&#160;member AsyncState : obj<br />&#160;&#160;member ContinueWith : continuationAction:Action&lt;Task&gt; -&gt; Task + 9 overloads<br />&#160;&#160;member CreationOptions : TaskCreationOptions<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member Exception : AggregateException<br />&#160;&#160;member Id : int<br />&#160;&#160;member IsCanceled : bool<br />&#160;&#160;member IsCompleted : bool<br />&#160;&#160;member IsFaulted : bool<br />&#160;&#160;...<br /><br />Full name: System.Threading.Tasks.Task<br /><br />--------------------<br />type Task&lt;&#39;TResult&gt; =<br />&#160;&#160;inherit Task<br />&#160;&#160;new : function:Func&lt;&#39;TResult&gt; -&gt; Task&lt;&#39;TResult&gt; + 7 overloads<br />&#160;&#160;member ContinueWith : continuationAction:Action&lt;Task&lt;&#39;TResult&gt;&gt; -&gt; Task + 9 overloads<br />&#160;&#160;member Result : &#39;TResult with get, set<br />&#160;&#160;static member Factory : TaskFactory&lt;&#39;TResult&gt;<br /><br />Full name: System.Threading.Tasks.Task&lt;_&gt;<br /><br />--------------------<br />Task(action: Action) : unit<br />Task(action: Action, cancellationToken: CancellationToken) : unit<br />Task(action: Action, creationOptions: TaskCreationOptions) : unit<br />Task(action: Action&lt;obj&gt;, state: obj) : unit<br />Task(action: Action, cancellationToken: CancellationToken, creationOptions: TaskCreationOptions) : unit<br />Task(action: Action&lt;obj&gt;, state: obj, cancellationToken: CancellationToken) : unit<br />Task(action: Action&lt;obj&gt;, state: obj, creationOptions: TaskCreationOptions) : unit<br />Task(action: Action&lt;obj&gt;, state: obj, cancellationToken: CancellationToken, creationOptions: TaskCreationOptions) : unit<br /><br />--------------------<br />Task(function: Func&lt;&#39;TResult&gt;) : unit<br />Task(function: Func&lt;&#39;TResult&gt;, cancellationToken: CancellationToken) : unit<br />Task(function: Func&lt;&#39;TResult&gt;, creationOptions: TaskCreationOptions) : unit<br />Task(function: Func&lt;obj,&#39;TResult&gt;, state: obj) : unit<br />Task(function: Func&lt;&#39;TResult&gt;, cancellationToken: CancellationToken, creationOptions: TaskCreationOptions) : unit<br />Task(function: Func&lt;obj,&#39;TResult&gt;, state: obj, cancellationToken: CancellationToken) : unit<br />Task(function: Func&lt;obj,&#39;TResult&gt;, state: obj, creationOptions: TaskCreationOptions) : unit<br />Task(function: Func&lt;obj,&#39;TResult&gt;, state: obj, cancellationToken: CancellationToken, creationOptions: TaskCreationOptions) : unit</div>
<div class="tip" id="fs41">type HttpFSharp = Req -&gt; Async&lt;Res&gt;<br /><br />Full name: Document.HttpFSharp</div>
<div class="tip" id="fs42">type HiddenState = Req -&gt; Async&lt;Res&gt;<br /><br />Full name: Document.HiddenState</div>
<div class="tip" id="fs43">type ExplicitState&lt;&#39;T&gt; = Req -&gt; (Req -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;T -&gt; &#39;T) -&gt; Async&lt;Res&gt;<br /><br />Full name: Document.ExplicitState&lt;_&gt;</div>
<div class="tip" id="fs44">Multiple items<br />type SealedAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; SealedAttribute<br />&#160;&#160;new : value:bool -&gt; SealedAttribute<br />&#160;&#160;member Value : bool<br /><br />Full name: Microsoft.FSharp.Core.SealedAttribute<br /><br />--------------------<br />new : unit -&gt; SealedAttribute<br />new : value:bool -&gt; SealedAttribute</div>
<div class="tip" id="fs45">Multiple items<br />type Startup =<br />&#160;&#160;new : unit -&gt; Startup<br />&#160;&#160;member Configuration : builder:&#39;a -&gt; unit<br /><br />Full name: Document.Startup<br /><br />--------------------<br />new : unit -&gt; Startup</div>
<div class="tip" id="fs46">Multiple items<br />member Startup.Configuration : builder:&#39;a -&gt; unit<br /><br />Full name: Document.Startup.Configuration<br /><br />--------------------<br />namespace System.Net.Configuration<br /><br />--------------------<br />namespace System.Configuration</div>
<div class="tip" id="fs47">val builder : &#39;a</div>
<div class="tip" id="fs48">val config : obj</div>
<div class="tip" id="fs49">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>
<div class="tip" id="fs50">Multiple items<br />type TodosController =<br />&#160;&#160;inherit obj<br />&#160;&#160;new : unit -&gt; TodosController<br />&#160;&#160;member GetTodos : unit -&gt; &#39;a<br /><br />Full name: Document.TodosController<br /><br />--------------------<br />new : unit -&gt; TodosController</div>
<div class="tip" id="fs51">Multiple items<br />member TodosController.GetTodos : unit -&gt; &#39;a<br /><br />Full name: Document.TodosController.GetTodos<br /><br />--------------------<br />type GetTodos = obj<br /><br />Full name: Document.GetTodos</div>
<div class="tip" id="fs52">type Array =<br />&#160;&#160;member Clone : unit -&gt; obj<br />&#160;&#160;member CopyTo : array:Array * index:int -&gt; unit + 1 overload<br />&#160;&#160;member GetEnumerator : unit -&gt; IEnumerator<br />&#160;&#160;member GetLength : dimension:int -&gt; int<br />&#160;&#160;member GetLongLength : dimension:int -&gt; int64<br />&#160;&#160;member GetLowerBound : dimension:int -&gt; int<br />&#160;&#160;member GetUpperBound : dimension:int -&gt; int<br />&#160;&#160;member GetValue : params indices:int[] -&gt; obj + 7 overloads<br />&#160;&#160;member Initialize : unit -&gt; unit<br />&#160;&#160;member IsFixedSize : bool<br />&#160;&#160;...<br /><br />Full name: System.Array</div>
<div class="tip" id="fs53">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><br />Full name: Microsoft.FSharp.Collections.Array.map</div>
<div class="tip" id="fs54">Multiple items<br />type Uri =<br />&#160;&#160;new : uriString:string -&gt; Uri + 5 overloads<br />&#160;&#160;member AbsolutePath : string<br />&#160;&#160;member AbsoluteUri : string<br />&#160;&#160;member Authority : string<br />&#160;&#160;member DnsSafeHost : string<br />&#160;&#160;member Equals : comparand:obj -&gt; bool<br />&#160;&#160;member Fragment : string<br />&#160;&#160;member GetComponents : components:UriComponents * format:UriFormat -&gt; string<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;member GetLeftPart : part:UriPartial -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.Uri<br /><br />--------------------<br />Uri(uriString: string) : unit<br />Uri(uriString: string, uriKind: UriKind) : unit<br />Uri(baseUri: Uri, relativeUri: string) : unit<br />Uri(baseUri: Uri, relativeUri: Uri) : unit</div>
<div class="tip" id="fs55">static member Async.StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;</div>
<div class="tip" id="fs56">val handle : request:Req -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.handle</div>
<div class="tip" id="fs57">val request : Req</div>
<div class="tip" id="fs58">val todos : obj []</div>
<div class="tip" id="fs59">val todos&#39; : obj []</div>
<div class="tip" id="fs60">val x : obj</div>
<div class="tip" id="fs61">val baseUri : string</div>
<div class="tip" id="fs62">property HttpRequestMessage.RequestUri: Uri</div>
<div class="tip" id="fs63">property Uri.AbsoluteUri: string</div>
<div class="tip" id="fs64">Multiple items<br />type TodoController =<br />&#160;&#160;inherit obj<br />&#160;&#160;new : unit -&gt; TodoController<br />&#160;&#160;member GetTodos : request:&#39;a -&gt; &#39;b<br /><br />Full name: Document.TodoController<br /><br />--------------------<br />new : unit -&gt; TodoController</div>
<div class="tip" id="fs65">Multiple items<br />member TodoController.GetTodos : request:&#39;a -&gt; &#39;b<br /><br />Full name: Document.TodoController.GetTodos<br /><br />--------------------<br />type GetTodos = obj<br /><br />Full name: Document.GetTodos</div>
<div class="tip" id="fs66">val getResource : request:Req -&gt; Async&lt;Uri * &#39;a&gt;<br /><br />Full name: Document.getResource</div>
<div class="tip" id="fs67">val todos : &#39;a</div>
<div class="tip" id="fs68">val mapValues : uri:Uri * todos:&#39;a [] -&gt; Uri * &#39;b []<br /><br />Full name: Document.mapValues</div>
<div class="tip" id="fs69">val uri : Uri</div>
<div class="tip" id="fs70">val todos : &#39;a []</div>
<div class="tip" id="fs71">val todos&#39; : &#39;b []</div>
<div class="tip" id="fs72">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs73">val toArray : source:seq&lt;&#39;T&gt; -&gt; &#39;T []<br /><br />Full name: Microsoft.FSharp.Collections.Seq.toArray</div>
<div class="tip" id="fs74">val makeHandler : requestF:(Req -&gt; Async&lt;&#39;a&gt;) -&gt; domainF:(&#39;a -&gt; &#39;b * &#39;c) -&gt; request:Req -&gt; Async&lt;&#39;d&gt;<br /><br />Full name: Document.makeHandler</div>
<div class="tip" id="fs75">val requestF : (Req -&gt; Async&lt;&#39;a&gt;)</div>
<div class="tip" id="fs76">val domainF : (&#39;a -&gt; &#39;b * &#39;c)</div>
<div class="tip" id="fs77">val res : &#39;a</div>
<div class="tip" id="fs78">val values : &#39;c</div>
<div class="tip" id="fs79">val handler : request:Req -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.handler</div>
<div class="tip" id="fs80">val domainLogic : value:string -&gt; string<br /><br />Full name: Document.Domain.domainLogic</div>
<div class="tip" id="fs81">val value : string</div>
<div class="tip" id="fs82">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs83">String.ToUpper() : string<br />String.ToUpper(culture: Globalization.CultureInfo) : string</div>
<div class="tip" id="fs84">val unwrapRequest : request:Req -&gt; Async&lt;string&gt;<br /><br />Full name: Document.Web.unwrapRequest</div>
<div class="tip" id="fs85">property HttpRequestMessage.Content: HttpContent</div>
<div class="tip" id="fs86">HttpContent.ReadAsStringAsync() : Task&lt;string&gt;</div>
<div class="tip" id="fs87">static member Async.AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;</div>
<div class="tip" id="fs88">val wrapResponse : value:&#39;a -&gt; request:Req -&gt; &#39;b<br /><br />Full name: Document.Web.wrapResponse</div>
<div class="tip" id="fs89">val value : &#39;a</div>
<div class="tip" id="fs90">val handle : request:Req -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.App.handle</div>
<div class="tip" id="fs91">Multiple items<br />module Web<br /><br />from Document<br /><br />--------------------<br />namespace System.Web</div>
<div class="tip" id="fs92">val value&#39; : string</div>
<div class="tip" id="fs93">module Domain<br /><br />from Document</div>
<div class="tip" id="fs94">module Sample<br /><br />from Document</div>
<div class="tip" id="fs95">val getHandler : request:Req -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.Sample.getHandler</div>
<div class="tip" id="fs96">val postHandler : request:Req -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.Sample.postHandler</div>
<div class="tip" id="fs97">type HttpStatusCode =<br />&#160;&#160;| Continue = 100<br />&#160;&#160;| SwitchingProtocols = 101<br />&#160;&#160;| OK = 200<br />&#160;&#160;| Created = 201<br />&#160;&#160;| Accepted = 202<br />&#160;&#160;| NonAuthoritativeInformation = 203<br />&#160;&#160;| NoContent = 204<br />&#160;&#160;| ResetContent = 205<br />&#160;&#160;| PartialContent = 206<br />&#160;&#160;| MultipleChoices = 300<br />&#160;&#160;...<br /><br />Full name: System.Net.HttpStatusCode</div>
<div class="tip" id="fs98">field HttpStatusCode.Created = 201</div>
<div class="tip" id="fs99">val sampleResource : obj<br /><br />Full name: Document.Sample.sampleResource</div>
<div class="tip" id="fs100">val registerSample : config:&#39;a -&gt; &#39;b<br /><br />Full name: Document.Sample.registerSample</div>
<div class="tip" id="fs101">val config : &#39;a</div>

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section >

<h1>F# on the Web</h1>

<h2>0 to Production in 12 Weeks</h2>

</section>

<section >

<h2>Ryan Riley</h2>

<img src="images/tachyus.png" alt="Tachyus logo" style="background-color: #fff; display: block; margin: 10px auto;" />

<ul>
<li><a href="http://c4fsharp.net/">Community for F#</a> Founder</li>
<li>Microsoft Visual F# MVP</li>
<li>ASPInsider</li>
<li><a href="http://owin.org/">OWIN</a> Management Committee</li>
</ul>

</section>

<section >

<h2>Agenda</h2>

<ul>
<li>Tachyus' success with F#</li>
<li>Build an F# web API
<ul>
<li>Getting started</li>
<li>Data access</li>
<li>Web APIs</li>
<li>Domain mapping</li>
</ul></li>
<li>Questions</li>
</ul>

</section>

<section >

<h1>Tachyus</h1>

<h3>Measure</h3>

<h3>Analyze</h3>

<h3>Produce</h3>

<p>Est. 2014</p>

</section>

<section >

<h2>Starting Point</h2>

<ul>
<li>No team</li>
<li>First client's existing systems:
<ul>
<li>PHP-based web app for reporting</li>
<li>Paper/pencil data collection from oil fields</li>
</ul></li>
</ul>

</section>

<section >

<h2>Twelve Weeks Later ...</h2>

</section>

<section >

<h2>Team</h2>

<ul>
<li>11 total</li>
<li>5 Software Engineering Team</li>
<li>3 Experienced F# Developers</li>
<li>2 Visual F# MVPs</li>
</ul>

</section>

<section >

<h2>Modular SPA</h2>

<ul>
<li>Monitoring</li>
<li>Reporting</li>
<li>Data Correction</li>
<li>Administration</li>
</ul>

</section>

<section >

<h2>Mobile</h2>

<ul>
<li>Data collection</li>
<li>Synchronization</li>
</ul>

</section>

<section >

<h2>Web APIs</h2>

<ul>
<li>Mobile sync API</li>
<li>Calculation engines for reports and monitoring</li>
<li>Domain to Web API mapping <strong><em>&lt;- our focus</em></strong></li>
</ul>

</section>

<section >

<h1>Why F#?</h1>

<p><img src="images/fssf.png" alt="F# Software Foundation" /></p>

</section>

<section >

<h2>Initially Skeptical</h2>

</section>

<section >

<h2>Prototyping</h2>

</section>

<section >

<h2>Talent Pool Assessment</h2>

</section>

<section >

<h2>Why We Chose F#</h2>

<h3>People</h3>

<ul>
<li>Solved a talent problem</li>
<li>Attract really good people</li>
<li>Good fit for data analysts</li>
</ul>

</section>

<section >

<h2>Active, Strong Community</h2>

<blockquote>
  I like this community better than any community I've seen out there.
  <footer>
    <cite>Dakin Sloss, Tachyus Founder &amp; CEO</cite>
  </footer>
</blockquote>

</section>

<section >

<h2>Why We Chose F#</h2>

<h3>Technical</h3>

<ul>
<li>Domain-focused programming</li>
<li>Math / science-focused solution</li>
<li>Full .NET compatibility</li>
<li>Cross-platform</li>
</ul>

</section>

<section >

<h1>Getting Started</h1>

<ul>
<li><a href="http://fsharp.org/guides/web/">Web Programming with F#</a></li>
<li><a href="https://visualstudiogallery.msdn.microsoft.com/39ae8dec-d11a-4ac9-974e-be0fdadec71b">F# MVC 5 Templates</a></li>
</ul>

</section>

<section >

<h2>Demo:</h2>

<h2>F# MVC 5 Template</h2>

<ol>
<li>File -> New -> Project</li>
<li>F# ASP.NET MVC 5 and Web API 2</li>
<li>Choose empty Web API project</li>
</ol>

</section>

<section >

<h1>Project:</h1>

<h2>Todo Backend</h2>

<p><a href="http://todobackend.com/">http://todobackend.com/</a></p>

</section>

<section >

<h1>F# and Data Access</h1>

</section>

<section >

<h2>LINQ to SQL or Entity Framework?</h2>

</section>

<section >

<h2><a href="https://fsprojects.github.io/FSharp.Data.SqlClient/"><strong>FSharp.Data.SqlClient</strong></a></h2>

<blockquote>
  SQL is the best DSL for working with data
  <footer>
    <cite><a href="http://www.infoq.com/articles/ORM-Saffron-Conery">Rob Conery</a></cite>
  </footer>
</blockquote>

</section>

<section >

<h2>Quick Sample</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">open</span> <span class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 41)" onmouseover="showTip(event, 'fs24', 41)" class="i">Data</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs25', 42)" onmouseover="showTip(event, 'fs25', 42)" class="i">GetTodos</span> <span class="o">=</span> <span class="i">SqlCommandProvider</span><span class="o">&lt;</span><span class="s">&quot;</span>
<span class="s">    </span><span class="s">select</span><span class="s"> </span><span class="s">Id</span><span class="s">,</span><span class="s"> </span><span class="s">Title</span><span class="s">,</span><span class="s"> </span><span class="s">Completed</span><span class="s">,</span><span class="s"> </span><span class="s">[</span><span class="s">Order</span><span class="s">]</span><span class="s"> </span><span class="s">from</span><span class="s"> </span><span class="s">Todo</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs17', 43)" onmouseover="showTip(event, 'fs17', 43)" class="i">connectionString</span><span class="o">&gt;</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs26', 44)" onmouseover="showTip(event, 'fs26', 44)" class="i">GetTodo</span> <span class="o">=</span> <span class="i">SqlCommandProvider</span><span class="o">&lt;</span><span class="s">&quot;</span>
<span class="s">    </span><span class="s">select</span><span class="s"> </span><span class="s">Id</span><span class="s">,</span><span class="s"> </span><span class="s">Title</span><span class="s">,</span><span class="s"> </span><span class="s">Completed</span><span class="s">,</span><span class="s"> </span><span class="s">[</span><span class="s">Order</span><span class="s">]</span><span class="s"> </span><span class="s">from</span><span class="s"> </span><span class="s">Todo</span><span class="s"> </span><span class="s">where</span><span class="s"> </span><span class="s">Id</span><span class="s"> </span><span class="s">=</span><span class="s"> </span><span class="s">@</span><span class="s">id</span>
<span class="s">    </span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs17', 45)" onmouseover="showTip(event, 'fs17', 45)" class="i">connectionString</span>, <span class="i">SingleRow</span> <span class="o">=</span> <span class="k">true</span><span class="o">&gt;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 46)" onmouseover="showTip(event, 'fs27', 46)" class="i">result</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs28', 47)" onmouseover="showTip(event, 'fs28', 47)" class="i">async</span> {
        <span class="k">use</span> <span onmouseout="hideTip(event, 'fs29', 48)" onmouseover="showTip(event, 'fs29', 48)" class="i">cmd</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs26', 49)" onmouseover="showTip(event, 'fs26', 49)" class="i">GetTodo</span>()
        <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs29', 50)" onmouseover="showTip(event, 'fs29', 50)" class="i">cmd</span><span class="o">.</span><span class="i">AsyncExecute</span>(<span onmouseout="hideTip(event, 'fs30', 51)" onmouseover="showTip(event, 'fs30', 51)" class="i">id</span> <span class="o">=</span> <span class="n">1</span>) }
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 52)" onmouseover="showTip(event, 'fs31', 52)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 53)" onmouseover="showTip(event, 'fs32', 53)" class="i">RunSynchronously</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 54)" onmouseover="showTip(event, 'fs33', 54)" class="i">todo</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 55)" onmouseover="showTip(event, 'fs26', 55)" class="i">GetTodo</span><span class="o">.</span><span class="i">Record</span>(<span class="i">Id</span> <span class="o">=</span> <span class="n">0</span>, <span class="i">Title</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">New</span><span class="s"> </span><span class="s">todo</span><span class="s">&quot;</span>, <span class="i">Completed</span> <span class="o">=</span> <span class="k">false</span>, <span class="i">Order</span> <span class="o">=</span> <span class="n">1</span>)</pre>
</td>
</tr>
</table>

</section>

<section >

<h2>Project:</h2>

<h2>Implement Todo Data Access</h2>

</section>

<section >

<h1>F# on the Web</h1>

</section>

<section >

<h2>HTTP is Functional</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs34', 56)" onmouseover="showTip(event, 'fs34', 56)" class="i">Req</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs35', 57)" onmouseover="showTip(event, 'fs35', 57)" class="i">HttpRequestMessage</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs36', 58)" onmouseover="showTip(event, 'fs36', 58)" class="i">Res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs37', 59)" onmouseover="showTip(event, 'fs37', 59)" class="i">HttpResponseMessage</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs38', 60)" onmouseover="showTip(event, 'fs38', 60)" class="i">Http</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs34', 61)" onmouseover="showTip(event, 'fs34', 61)" class="i">Req</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs36', 62)" onmouseover="showTip(event, 'fs36', 62)" class="i">Res</span></pre>
</td>
</tr>
</table>

</section>

<section >

<h2>HTTP in ASP.NET Web API</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs39', 63)" onmouseover="showTip(event, 'fs39', 63)" class="i">HttpWebApi</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs34', 64)" onmouseover="showTip(event, 'fs34', 64)" class="i">Req</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs40', 65)" onmouseover="showTip(event, 'fs40', 65)" class="i">Task</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs36', 66)" onmouseover="showTip(event, 'fs36', 66)" class="i">Res</span><span class="o">&gt;</span></pre>
</td>
</tr>
</table>

</section>

<section >

<h2>HTTP in F#</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs41', 67)" onmouseover="showTip(event, 'fs41', 67)" class="i">HttpFSharp</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs34', 68)" onmouseover="showTip(event, 'fs34', 68)" class="i">Req</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs31', 69)" onmouseover="showTip(event, 'fs31', 69)" class="i">Async</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs36', 70)" onmouseover="showTip(event, 'fs36', 70)" class="i">Res</span><span class="o">&gt;</span></pre>
</td>
</tr>
</table>

</section>

<section >

<h2>What About Resource State?</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs42', 71)" onmouseover="showTip(event, 'fs42', 71)" class="i">HiddenState</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs34', 72)" onmouseover="showTip(event, 'fs34', 72)" class="i">Req</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs31', 73)" onmouseover="showTip(event, 'fs31', 73)" class="i">Async</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs36', 74)" onmouseover="showTip(event, 'fs36', 74)" class="i">Res</span><span class="o">&gt;</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs43', 75)" onmouseover="showTip(event, 'fs43', 75)" class="i">ExplicitState</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs34', 76)" onmouseover="showTip(event, 'fs34', 76)" class="i">Req</span> <span class="k">-&gt;</span>
     <span class="c">// Retrieve resource state from the `Req`</span>
     (<span onmouseout="hideTip(event, 'fs34', 77)" onmouseover="showTip(event, 'fs34', 77)" class="i">Req</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs31', 78)" onmouseover="showTip(event, 'fs31', 78)" class="i">Async</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span>) <span class="k">-&gt;</span>
     <span class="c">// Execute domain logic</span>
     (<span class="o">&#39;</span><span class="i">T</span> <span class="k">-&gt;</span> <span class="o">&#39;</span><span class="i">T</span>) <span class="k">-&gt;</span>    <span class="c">// or (&#39;T -&gt; Async&lt;&#39;T&gt;)</span>
     <span class="c">// Generate the response</span>
     <span onmouseout="hideTip(event, 'fs31', 79)" onmouseover="showTip(event, 'fs31', 79)" class="i">Async</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs36', 80)" onmouseover="showTip(event, 'fs36', 80)" class="i">Res</span><span class="o">&gt;</span></pre>
</td>
</tr>
</table>

</section>

<section >

<h2>Project:</h2>

<h2>Implement Todo Backend</h2>

<p>Add the following NuGet packages:</p>

<ul>
<li>Microsoft.AspNet.WebApi.Owin</li>
<li>Microsoft.Owin.Cors</li>
<li>Microsoft.Owin.Host.SystemWeb</li>
</ul>

</section>

<section >

<h2>Configure</h2>

<h3>Startup.fs</h3>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
[&lt;<span onmouseout="hideTip(event, 'fs44', 81)" onmouseover="showTip(event, 'fs44', 81)" class="i">Sealed</span>&gt;]
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs45', 82)" onmouseover="showTip(event, 'fs45', 82)" class="i">Startup</span>() <span class="o">=</span>
    <span class="k">member</span> <span class="i">__</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs46', 83)" onmouseover="showTip(event, 'fs46', 83)" class="i">Configuration</span>(<span onmouseout="hideTip(event, 'fs47', 84)" onmouseover="showTip(event, 'fs47', 84)" class="i">builder</span><span class="o">:</span> <span class="i">IAppBuilder</span>) <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 85)" onmouseover="showTip(event, 'fs48', 85)" class="i">config</span> <span class="o">=</span> <span class="k">new</span> <span class="i">HttpConfiguration</span>()
        <span onmouseout="hideTip(event, 'fs48', 86)" onmouseover="showTip(event, 'fs48', 86)" class="i">config</span><span class="o">.</span><span class="i">MapHttpAttributeRoutes</span>()
        <span onmouseout="hideTip(event, 'fs47', 87)" onmouseover="showTip(event, 'fs47', 87)" class="i">builder</span>
            <span class="o">.</span><span class="i">UseCors</span>(<span class="i">Cors</span><span class="o">.</span><span class="i">CorsOptions</span><span class="o">.</span><span class="i">AllowAll</span>)
            <span class="o">.</span><span class="i">UseWebApi</span>(<span onmouseout="hideTip(event, 'fs48', 88)" onmouseover="showTip(event, 'fs48', 88)" class="i">config</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs49', 89)" onmouseover="showTip(event, 'fs49', 89)" class="i">ignore</span></pre>
</td>
</tr>
</table>

</section>

<section >

<h2>HTTP in ASP.NET Web API</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
[&lt;<span class="i">RoutePrefix</span>(<span class="s">&quot;</span><span class="s">webapi</span><span class="s">&quot;</span>)&gt;]
[&lt;<span class="i">Route</span>(<span class="s">&quot;</span><span class="s">&quot;</span>)&gt;]
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs50', 90)" onmouseover="showTip(event, 'fs50', 90)" class="i">TodosController</span>() <span class="o">=</span>
    <span class="k">inherit</span> <span class="i">ApiController</span>()

    <span class="k">member</span> <span class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 91)" onmouseover="showTip(event, 'fs51', 91)" class="i">GetTodos</span>() <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs28', 92)" onmouseover="showTip(event, 'fs28', 92)" class="i">async</span> {
            <span class="k">let!</span> <span class="i">todos</span> <span class="o">=</span> <span class="i">Sql</span><span class="o">.</span><span class="i">store</span><span class="o">.</span><span class="i">GetAll</span>()
            <span class="k">let</span> <span class="i">todos&#39;</span> <span class="o">=</span>
                <span class="i">todos</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs52', 93)" onmouseover="showTip(event, 'fs52', 93)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs53', 94)" onmouseover="showTip(event, 'fs53', 94)" class="i">map</span> (<span class="k">fun</span> <span class="i">x</span> <span class="k">-&gt;</span>
                    <span class="k">let</span> <span class="i">baseUri</span> <span class="o">=</span> <span class="i">this</span><span class="o">.</span><span class="i">Request</span><span class="o">.</span><span class="i">RequestUri</span><span class="o">.</span><span class="i">AbsoluteUri</span>
                    { <span class="i">Url</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs54', 95)" onmouseover="showTip(event, 'fs54', 95)" class="i">Uri</span>(<span class="i">baseUri</span> <span class="o">+</span> <span class="i">x</span><span class="o">.</span><span class="i">Id</span><span class="o">.</span><span class="i">ToString</span>())
                      <span class="i">Title</span> <span class="o">=</span> <span class="i">x</span><span class="o">.</span><span class="i">Title</span>
                      <span class="i">Completed</span> <span class="o">=</span> <span class="i">x</span><span class="o">.</span><span class="i">Completed</span>
                      <span class="i">Order</span> <span class="o">=</span> <span class="i">x</span><span class="o">.</span><span class="i">Order</span> })
            <span class="k">return</span> <span class="i">this</span><span class="o">.</span><span class="i">Request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span class="i">todos&#39;</span>) }
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 96)" onmouseover="showTip(event, 'fs31', 96)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 97)" onmouseover="showTip(event, 'fs55', 97)" class="i">StartAsTask</span></pre>
</td>
</tr>
</table>

</section>

<section >

<h1>Modularize for Composition</h1>

</section>

<section >

<h2>Extract the handler function</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 98)" onmouseover="showTip(event, 'fs56', 98)" class="i">handle</span> (<span onmouseout="hideTip(event, 'fs57', 99)" onmouseover="showTip(event, 'fs57', 99)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs34', 100)" onmouseover="showTip(event, 'fs34', 100)" class="i">Req</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 101)" onmouseover="showTip(event, 'fs28', 101)" class="i">async</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs58', 102)" onmouseover="showTip(event, 'fs58', 102)" class="i">todos</span> <span class="o">=</span> <span class="i">Sql</span><span class="o">.</span><span class="i">store</span><span class="o">.</span><span class="i">GetAll</span>()
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 103)" onmouseover="showTip(event, 'fs59', 103)" class="i">todos&#39;</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs58', 104)" onmouseover="showTip(event, 'fs58', 104)" class="i">todos</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs52', 105)" onmouseover="showTip(event, 'fs52', 105)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs53', 106)" onmouseover="showTip(event, 'fs53', 106)" class="i">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs60', 107)" onmouseover="showTip(event, 'fs60', 107)" class="i">x</span> <span class="k">-&gt;</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs61', 108)" onmouseover="showTip(event, 'fs61', 108)" class="i">baseUri</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs57', 109)" onmouseover="showTip(event, 'fs57', 109)" class="i">request</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs62', 110)" onmouseover="showTip(event, 'fs62', 110)" class="i">RequestUri</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 111)" onmouseover="showTip(event, 'fs63', 111)" class="i">AbsoluteUri</span>
            { <span class="i">Url</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs54', 112)" onmouseover="showTip(event, 'fs54', 112)" class="i">Uri</span>(<span onmouseout="hideTip(event, 'fs61', 113)" onmouseover="showTip(event, 'fs61', 113)" class="i">baseUri</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs60', 114)" onmouseover="showTip(event, 'fs60', 114)" class="i">x</span><span class="o">.</span><span class="i">Id</span><span class="o">.</span><span class="i">ToString</span>())
              <span class="i">Title</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 115)" onmouseover="showTip(event, 'fs60', 115)" class="i">x</span><span class="o">.</span><span class="i">Title</span>
              <span class="i">Completed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 116)" onmouseover="showTip(event, 'fs60', 116)" class="i">x</span><span class="o">.</span><span class="i">Completed</span>
              <span class="i">Order</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 117)" onmouseover="showTip(event, 'fs60', 117)" class="i">x</span><span class="o">.</span><span class="i">Order</span> })
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs57', 118)" onmouseover="showTip(event, 'fs57', 118)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span class="i">todos&#39;</span>) }

[&lt;<span class="i">Route</span>(<span class="s">&quot;</span><span class="s">webapi</span><span class="s">&quot;</span>)&gt;]
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs64', 119)" onmouseover="showTip(event, 'fs64', 119)" class="i">TodoController</span>() <span class="o">=</span>
    <span class="k">inherit</span> <span class="i">ApiController</span>()
    <span class="k">member</span> <span class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs65', 120)" onmouseover="showTip(event, 'fs65', 120)" class="i">GetTodos</span>(<span class="i">request</span>) <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs56', 121)" onmouseover="showTip(event, 'fs56', 121)" class="i">handle</span> <span class="i">request</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 122)" onmouseover="showTip(event, 'fs31', 122)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 123)" onmouseover="showTip(event, 'fs55', 123)" class="i">StartAsTask</span></pre>
</td>
</tr>
</table>

</section>

<section >

<h2>Why Extract the Handlers?</h2>

<blockquote>
    The web is a delivery mechanism.
    <footer>
        <cite><a href="https://vimeo.com/68215570">"Uncle" Bob Martin</a></cite>
    </footer>
</blockquote>

</section>

<section >

<h2>Extract the Request Mapping Function</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 124)" onmouseover="showTip(event, 'fs66', 124)" class="i">getResource</span> (<span onmouseout="hideTip(event, 'fs57', 125)" onmouseover="showTip(event, 'fs57', 125)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs34', 126)" onmouseover="showTip(event, 'fs34', 126)" class="i">Req</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 127)" onmouseover="showTip(event, 'fs28', 127)" class="i">async</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs67', 128)" onmouseover="showTip(event, 'fs67', 128)" class="i">todos</span> <span class="o">=</span> <span class="i">Sql</span><span class="o">.</span><span class="i">store</span><span class="o">.</span><span class="i">GetAll</span>()
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs57', 129)" onmouseover="showTip(event, 'fs57', 129)" class="i">request</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs62', 130)" onmouseover="showTip(event, 'fs62', 130)" class="i">RequestUri</span>, <span onmouseout="hideTip(event, 'fs67', 131)" onmouseover="showTip(event, 'fs67', 131)" class="i">todos</span> }</pre>
</td>
</tr>
</table>

</section>

<section >

<h2>Extract the Domain Function</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs68', 132)" onmouseover="showTip(event, 'fs68', 132)" class="i">mapValues</span> (<span onmouseout="hideTip(event, 'fs69', 133)" onmouseover="showTip(event, 'fs69', 133)" class="i">uri</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs54', 134)" onmouseover="showTip(event, 'fs54', 134)" class="i">Uri</span>, <span onmouseout="hideTip(event, 'fs70', 135)" onmouseover="showTip(event, 'fs70', 135)" class="i">todos</span><span class="o">:</span> <span class="i">NewTodo</span>[]) <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs71', 136)" onmouseover="showTip(event, 'fs71', 136)" class="i">todos&#39;</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs70', 137)" onmouseover="showTip(event, 'fs70', 137)" class="i">todos</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs52', 138)" onmouseover="showTip(event, 'fs52', 138)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs53', 139)" onmouseover="showTip(event, 'fs53', 139)" class="i">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs12', 140)" onmouseover="showTip(event, 'fs12', 140)" class="i">x</span> <span class="k">-&gt;</span>
            { <span class="i">Url</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs54', 141)" onmouseover="showTip(event, 'fs54', 141)" class="i">Uri</span>(<span onmouseout="hideTip(event, 'fs69', 142)" onmouseover="showTip(event, 'fs69', 142)" class="i">uri</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 143)" onmouseover="showTip(event, 'fs63', 143)" class="i">AbsoluteUri</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs12', 144)" onmouseover="showTip(event, 'fs12', 144)" class="i">x</span><span class="o">.</span><span class="i">Id</span><span class="o">.</span><span class="i">ToString</span>())
              <span class="i">Title</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 145)" onmouseover="showTip(event, 'fs12', 145)" class="i">x</span><span class="o">.</span><span class="i">Title</span>
              <span class="i">Completed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 146)" onmouseover="showTip(event, 'fs12', 146)" class="i">x</span><span class="o">.</span><span class="i">Completed</span>
              <span class="i">Order</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 147)" onmouseover="showTip(event, 'fs12', 147)" class="i">x</span><span class="o">.</span><span class="i">Order</span> })
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs72', 148)" onmouseover="showTip(event, 'fs72', 148)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs73', 149)" onmouseover="showTip(event, 'fs73', 149)" class="i">toArray</span>
    <span onmouseout="hideTip(event, 'fs69', 150)" onmouseover="showTip(event, 'fs69', 150)" class="i">uri</span>, <span onmouseout="hideTip(event, 'fs71', 151)" onmouseover="showTip(event, 'fs71', 151)" class="i">todos&#39;</span></pre>
</td>
</tr>
</table>

</section>

<section >

<h2>Compose</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs74', 152)" onmouseover="showTip(event, 'fs74', 152)" class="i">makeHandler</span> <span onmouseout="hideTip(event, 'fs75', 153)" onmouseover="showTip(event, 'fs75', 153)" class="i">requestF</span> <span onmouseout="hideTip(event, 'fs76', 154)" onmouseover="showTip(event, 'fs76', 154)" class="i">domainF</span> (<span onmouseout="hideTip(event, 'fs57', 155)" onmouseover="showTip(event, 'fs57', 155)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs34', 156)" onmouseover="showTip(event, 'fs34', 156)" class="i">Req</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 157)" onmouseover="showTip(event, 'fs28', 157)" class="i">async</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs77', 158)" onmouseover="showTip(event, 'fs77', 158)" class="i">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs75', 159)" onmouseover="showTip(event, 'fs75', 159)" class="i">requestF</span> <span onmouseout="hideTip(event, 'fs57', 160)" onmouseover="showTip(event, 'fs57', 160)" class="i">request</span>
    <span class="k">let</span> (_, <span onmouseout="hideTip(event, 'fs78', 161)" onmouseover="showTip(event, 'fs78', 161)" class="i">values</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs76', 162)" onmouseover="showTip(event, 'fs76', 162)" class="i">domainF</span> <span onmouseout="hideTip(event, 'fs77', 163)" onmouseover="showTip(event, 'fs77', 163)" class="i">res</span>
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs57', 164)" onmouseover="showTip(event, 'fs57', 164)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span onmouseout="hideTip(event, 'fs78', 165)" onmouseover="showTip(event, 'fs78', 165)" class="i">values</span>) }

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs79', 166)" onmouseover="showTip(event, 'fs79', 166)" class="i">handler</span> <span onmouseout="hideTip(event, 'fs57', 167)" onmouseover="showTip(event, 'fs57', 167)" class="i">request</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs74', 168)" onmouseover="showTip(event, 'fs74', 168)" class="i">makeHandler</span> <span onmouseout="hideTip(event, 'fs66', 169)" onmouseover="showTip(event, 'fs66', 169)" class="i">getResource</span> <span onmouseout="hideTip(event, 'fs68', 170)" onmouseover="showTip(event, 'fs68', 170)" class="i">mapValues</span> <span onmouseout="hideTip(event, 'fs57', 171)" onmouseover="showTip(event, 'fs57', 171)" class="i">request</span></pre>
</td>
</tr>
</table>

</section>

<section >

<h2>Map Domain onto the Web</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">module</span> <span class="i">Domain</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs80', 172)" onmouseover="showTip(event, 'fs80', 172)" class="i">domainLogic</span> (<span onmouseout="hideTip(event, 'fs81', 173)" onmouseover="showTip(event, 'fs81', 173)" class="i">value</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs82', 174)" onmouseover="showTip(event, 'fs82', 174)" class="i">string</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs81', 175)" onmouseover="showTip(event, 'fs81', 175)" class="i">value</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs83', 176)" onmouseover="showTip(event, 'fs83', 176)" class="i">ToUpper</span>()

<span class="k">module</span> <span onmouseout="hideTip(event, 'fs9', 177)" onmouseover="showTip(event, 'fs9', 177)" class="i">Web</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs84', 178)" onmouseover="showTip(event, 'fs84', 178)" class="i">unwrapRequest</span> (<span onmouseout="hideTip(event, 'fs57', 179)" onmouseover="showTip(event, 'fs57', 179)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs34', 180)" onmouseover="showTip(event, 'fs34', 180)" class="i">Req</span>) <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs28', 181)" onmouseover="showTip(event, 'fs28', 181)" class="i">async</span> { <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs57', 182)" onmouseover="showTip(event, 'fs57', 182)" class="i">request</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 183)" onmouseover="showTip(event, 'fs85', 183)" class="i">Content</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs86', 184)" onmouseover="showTip(event, 'fs86', 184)" class="i">ReadAsStringAsync</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 185)" onmouseover="showTip(event, 'fs31', 185)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs87', 186)" onmouseover="showTip(event, 'fs87', 186)" class="i">AwaitTask</span> }

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs88', 187)" onmouseover="showTip(event, 'fs88', 187)" class="i">wrapResponse</span> <span onmouseout="hideTip(event, 'fs89', 188)" onmouseover="showTip(event, 'fs89', 188)" class="i">value</span> (<span onmouseout="hideTip(event, 'fs57', 189)" onmouseover="showTip(event, 'fs57', 189)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs34', 190)" onmouseover="showTip(event, 'fs34', 190)" class="i">Req</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs57', 191)" onmouseover="showTip(event, 'fs57', 191)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span onmouseout="hideTip(event, 'fs89', 192)" onmouseover="showTip(event, 'fs89', 192)" class="i">value</span>)

<span class="k">module</span> <span class="i">App</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs90', 193)" onmouseover="showTip(event, 'fs90', 193)" class="i">handle</span> <span onmouseout="hideTip(event, 'fs57', 194)" onmouseover="showTip(event, 'fs57', 194)" class="i">request</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 195)" onmouseover="showTip(event, 'fs28', 195)" class="i">async</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs81', 196)" onmouseover="showTip(event, 'fs81', 196)" class="i">value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs91', 197)" onmouseover="showTip(event, 'fs91', 197)" class="i">Web</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs84', 198)" onmouseover="showTip(event, 'fs84', 198)" class="i">unwrapRequest</span> <span onmouseout="hideTip(event, 'fs57', 199)" onmouseover="showTip(event, 'fs57', 199)" class="i">request</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs92', 200)" onmouseover="showTip(event, 'fs92', 200)" class="i">value&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs93', 201)" onmouseover="showTip(event, 'fs93', 201)" class="i">Domain</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 202)" onmouseover="showTip(event, 'fs80', 202)" class="i">domainLogic</span> <span onmouseout="hideTip(event, 'fs81', 203)" onmouseover="showTip(event, 'fs81', 203)" class="i">value</span>
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs91', 204)" onmouseover="showTip(event, 'fs91', 204)" class="i">Web</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 205)" onmouseover="showTip(event, 'fs88', 205)" class="i">wrapResponse</span> <span onmouseout="hideTip(event, 'fs92', 206)" onmouseover="showTip(event, 'fs92', 206)" class="i">value&#39;</span> <span onmouseout="hideTip(event, 'fs57', 207)" onmouseover="showTip(event, 'fs57', 207)" class="i">request</span> }</pre>
</td>
</tr>
</table>

</section>

<section >

<h2>Remaining Problems</h2>

<p><img src="images/explicit.gif" alt="I think you should be more explicit here in step two" /></p>

</section>

<section >

<h2>Remaining Problems</h2>

<ul>
<li>The Web API controller cannot be nested under a <code>module</code></li>
<li>Web API controller must be named with <code>Controller</code> as the suffix</li>
</ul>

</section>

<section >

<h2>Skip Web API Altogether</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">open</span> <span class="i">Frank</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 208)" onmouseover="showTip(event, 'fs2', 208)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 209)" onmouseover="showTip(event, 'fs9', 209)" class="i">Web</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 210)" onmouseover="showTip(event, 'fs38', 210)" class="i">Http</span><span class="o">.</span><span class="i">HttpResource</span>

<span class="k">module</span> <span onmouseout="hideTip(event, 'fs94', 211)" onmouseover="showTip(event, 'fs94', 211)" class="i">Sample</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs95', 212)" onmouseover="showTip(event, 'fs95', 212)" class="i">getHandler</span> (<span onmouseout="hideTip(event, 'fs57', 213)" onmouseover="showTip(event, 'fs57', 213)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs34', 214)" onmouseover="showTip(event, 'fs34', 214)" class="i">Req</span>) <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs28', 215)" onmouseover="showTip(event, 'fs28', 215)" class="i">async</span> { <span class="k">return</span> <span onmouseout="hideTip(event, 'fs57', 216)" onmouseover="showTip(event, 'fs57', 216)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>() }

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs96', 217)" onmouseover="showTip(event, 'fs96', 217)" class="i">postHandler</span> (<span onmouseout="hideTip(event, 'fs57', 218)" onmouseover="showTip(event, 'fs57', 218)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs34', 219)" onmouseover="showTip(event, 'fs34', 219)" class="i">Req</span>) <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs28', 220)" onmouseover="showTip(event, 'fs28', 220)" class="i">async</span> {
            <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs81', 221)" onmouseover="showTip(event, 'fs81', 221)" class="i">value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs57', 222)" onmouseover="showTip(event, 'fs57', 222)" class="i">request</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 223)" onmouseover="showTip(event, 'fs85', 223)" class="i">Content</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs86', 224)" onmouseover="showTip(event, 'fs86', 224)" class="i">ReadAsStringAsync</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs31', 225)" onmouseover="showTip(event, 'fs31', 225)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs87', 226)" onmouseover="showTip(event, 'fs87', 226)" class="i">AwaitTask</span>
            <span class="c">// Do something with value</span>
            <span class="k">return</span> <span onmouseout="hideTip(event, 'fs57', 227)" onmouseover="showTip(event, 'fs57', 227)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span onmouseout="hideTip(event, 'fs97', 228)" onmouseover="showTip(event, 'fs97', 228)" class="i">HttpStatusCode</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 229)" onmouseover="showTip(event, 'fs98', 229)" class="i">Created</span>, <span onmouseout="hideTip(event, 'fs81', 230)" onmouseover="showTip(event, 'fs81', 230)" class="i">value</span>) }

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs99', 231)" onmouseover="showTip(event, 'fs99', 231)" class="i">sampleResource</span> <span class="o">=</span>
        <span class="i">routeResource</span> <span class="s">&quot;</span><span class="s">/</span><span class="s">api</span><span class="s">/</span><span class="s">sample</span><span class="s">&quot;</span>
                    [ <span class="i">get</span> <span onmouseout="hideTip(event, 'fs95', 232)" onmouseover="showTip(event, 'fs95', 232)" class="i">getHandler</span>
                      <span class="i">post</span> <span onmouseout="hideTip(event, 'fs96', 233)" onmouseover="showTip(event, 'fs96', 233)" class="i">postHandler</span> ]
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs100', 234)" onmouseover="showTip(event, 'fs100', 234)" class="i">registerSample</span> <span onmouseout="hideTip(event, 'fs101', 235)" onmouseover="showTip(event, 'fs101', 235)" class="i">config</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs101', 236)" onmouseover="showTip(event, 'fs101', 236)" class="i">config</span> <span class="o">|&gt;</span> <span class="i">register</span> [<span onmouseout="hideTip(event, 'fs99', 237)" onmouseover="showTip(event, 'fs99', 237)" class="i">sampleResource</span>]</pre>
</td>
</tr>
</table>

</section>

<section >

<h2>Demo: Simplify</h2>

</section>

<section >

<h2>Take Aways</h2>

<ul>
<li>You can rapidly develop (or prototype) production web applications with F# today.</li>
<li>Focus on your domain over your web framework. The latter should serve the former.</li>
<li>Frameworks can over-complicate and prevent composition. Try simplifying for better composition.</li>
</ul>

</section>

<section >

<h2>Resources</h2>

<ul>
<li><a href="http://fsharp.org/guides/web">F# Software Foundation</a></li>
<li><a href="http://c4fsharp.net/">Community for F#</a></li>
<li>Sergey Tihon's <a href="http://sergeytihon.wordpress.com/category/f-weekly/">F# Weekly</a></li>
<li><a href="http://fsharpforfunandprofit.com/">F# for Fun and Profit</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/vstudio/hh314518(v=vs.100).aspx">Real World Functional Programming</a> on MSDN</li>
</ul>

</section>

<section >

<h1>Questions?</h1>

</section>



        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>
    <script>

        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            theme: 'night', // available themes are in /css/theme
            transition: 'default', // default/cube/page/concave/zoom/linear/fade/none

            // Parallax scrolling
            // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
            // parallaxBackgroundSize: '2100px 900px',

            // Optional libraries used to extend on reveal.js
            dependencies: [
                { src: 'lib/js/classList.js', condition: function () { return !document.body.classList; } },
                { src: 'plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
                { src: 'plugin/zoom-js/zoom.js', async: true, condition: function () { return !!document.body.classList; } },
                { src: 'plugin/notes/notes.js', async: true, condition: function () { return !!document.body.classList; } }
            ]
        });

    </script>
</body>
</html>

