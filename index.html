<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>0 to Production in Twelve Weeks with F# on the Web</title>
    <meta name="description" content="The story of how Tachyus developed an application using F# in twelve weeks and replaced a customer's existing system.">
    <meta name="author" content="Ryan Riley">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="//code.jquery.com/jquery-1.8.0.js"></script>
    <script src="//code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/style.css" />
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/deedle.css" />
    <script src="fsharp.formatting/styles/tips.js" type="text/javascript"></script>
    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>
<body>
    <div class="reveal">
        <div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace System.Net</div>
<div class="tip" id="fs3">namespace System.Net.Http</div>
<div class="tip" id="fs4">namespace System.Threading</div>
<div class="tip" id="fs5">namespace System.Threading.Tasks</div>
<div class="tip" id="fs6">namespace System.Web</div>
<div class="tip" id="fs7">Multiple items<br />namespace System.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs8">Multiple items<br />type LiteralAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; LiteralAttribute<br /><br />Full name: Microsoft.FSharp.Core.LiteralAttribute<br /><br />--------------------<br />new : unit -&gt; LiteralAttribute</div>
<div class="tip" id="fs9">val connectionString : string<br /><br />Full name: Document.connectionString</div>
<div class="tip" id="fs10">type GetTodos = obj<br /><br />Full name: Document.GetTodos</div>
<div class="tip" id="fs11">type GetTodo = obj<br /><br />Full name: Document.GetTodo</div>
<div class="tip" id="fs12">val result : obj<br /><br />Full name: Document.result</div>
<div class="tip" id="fs13">val async : AsyncBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.async</div>
<div class="tip" id="fs14">val cmd : GetTodo</div>
<div class="tip" id="fs15">val id : x:&#39;T -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.id</div>
<div class="tip" id="fs16">Multiple items<br />type Async<br />static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member CancelDefaultToken : unit -&gt; unit<br />static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg:&#39;Arg1 * beginAction:(&#39;Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * beginAction:(&#39;Arg1 * &#39;Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * arg3:&#39;Arg3 * beginAction:(&#39;Arg1 * &#39;Arg2 * &#39;Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member Ignore : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;unit&gt;<br />static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />static member Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;<br />static member RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T<br />static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;<br />static member StartChild : computation:Async&lt;&#39;T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;&#39;T&gt;&gt;<br />static member StartChildAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions -&gt; Async&lt;Task&lt;&#39;T&gt;&gt;<br />static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartWithContinuations : computation:Async&lt;&#39;T&gt; * continuation:(&#39;T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />static member TryCancelled : computation:Async&lt;&#39;T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member CancellationToken : Async&lt;CancellationToken&gt;<br />static member DefaultCancellationToken : CancellationToken<br /><br />Full name: Microsoft.FSharp.Control.Async<br /><br />--------------------<br />type Async&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;</div>
<div class="tip" id="fs17">static member Async.RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T</div>
<div class="tip" id="fs18">val todo : obj<br /><br />Full name: Document.todo</div>
<div class="tip" id="fs19">type SimplestHttpApp = HttpRequestMessage -&gt; HttpResponseMessage<br /><br />Full name: Document.SimplestHttpApp</div>
<div class="tip" id="fs20">Multiple items<br />type HttpRequestMessage =<br />&#160;&#160;new : unit -&gt; HttpRequestMessage + 2 overloads<br />&#160;&#160;member Content : HttpContent with get, set<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member Headers : HttpRequestHeaders<br />&#160;&#160;member Method : HttpMethod with get, set<br />&#160;&#160;member Properties : IDictionary&lt;string, obj&gt;<br />&#160;&#160;member RequestUri : Uri with get, set<br />&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;member Version : Version with get, set<br /><br />Full name: System.Net.Http.HttpRequestMessage<br /><br />--------------------<br />HttpRequestMessage() : unit<br />HttpRequestMessage(method: HttpMethod, requestUri: Uri) : unit<br />HttpRequestMessage(method: HttpMethod, requestUri: string) : unit</div>
<div class="tip" id="fs21">Multiple items<br />type HttpResponseMessage =<br />&#160;&#160;new : unit -&gt; HttpResponseMessage + 1 overload<br />&#160;&#160;member Content : HttpContent with get, set<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member EnsureSuccessStatusCode : unit -&gt; HttpResponseMessage<br />&#160;&#160;member Headers : HttpResponseHeaders<br />&#160;&#160;member IsSuccessStatusCode : bool<br />&#160;&#160;member ReasonPhrase : string with get, set<br />&#160;&#160;member RequestMessage : HttpRequestMessage with get, set<br />&#160;&#160;member StatusCode : HttpStatusCode with get, set<br />&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.Net.Http.HttpResponseMessage<br /><br />--------------------<br />HttpResponseMessage() : unit<br />HttpResponseMessage(statusCode: HttpStatusCode) : unit</div>
<div class="tip" id="fs22">Multiple items<br />type SimplestWebApiController =<br />&#160;&#160;inherit obj<br />&#160;&#160;new : unit -&gt; SimplestWebApiController<br />&#160;&#160;member Get : unit -&gt; &#39;a<br /><br />Full name: Document.SimplestWebApiController<br /><br />--------------------<br />new : unit -&gt; SimplestWebApiController</div>
<div class="tip" id="fs23">member SimplestWebApiController.Get : unit -&gt; &#39;a<br /><br />Full name: Document.SimplestWebApiController.Get</div>
<div class="tip" id="fs24">Multiple items<br />type SimplestWebApi =<br />&#160;&#160;inherit DelegatingHandler<br />&#160;&#160;new : unit -&gt; SimplestWebApi<br />&#160;&#160;override SendAsync : request:HttpRequestMessage * cancelationToken:CancellationToken -&gt; Task&lt;HttpResponseMessage&gt;<br /><br />Full name: Document.SimplestWebApi<br /><br />--------------------<br />new : unit -&gt; SimplestWebApi</div>
<div class="tip" id="fs25">Multiple items<br />type DelegatingHandler =<br />&#160;&#160;inherit HttpMessageHandler<br />&#160;&#160;member InnerHandler : HttpMessageHandler with get, set<br /><br />Full name: System.Net.Http.DelegatingHandler<br /><br />--------------------<br />DelegatingHandler() : unit<br />DelegatingHandler(innerHandler: HttpMessageHandler) : unit</div>
<div class="tip" id="fs26">val this : SimplestWebApi</div>
<div class="tip" id="fs27">override SimplestWebApi.SendAsync : request:HttpRequestMessage * cancelationToken:CancellationToken -&gt; Task&lt;HttpResponseMessage&gt;<br /><br />Full name: Document.SimplestWebApi.SendAsync</div>
<div class="tip" id="fs28">val request : HttpRequestMessage</div>
<div class="tip" id="fs29">val cancelationToken : CancellationToken</div>
<div class="tip" id="fs30">val response : obj</div>
<div class="tip" id="fs31">Multiple items<br />type Task =<br />&#160;&#160;new : action:Action -&gt; Task + 7 overloads<br />&#160;&#160;member AsyncState : obj<br />&#160;&#160;member ContinueWith : continuationAction:Action&lt;Task&gt; -&gt; Task + 9 overloads<br />&#160;&#160;member CreationOptions : TaskCreationOptions<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member Exception : AggregateException<br />&#160;&#160;member Id : int<br />&#160;&#160;member IsCanceled : bool<br />&#160;&#160;member IsCompleted : bool<br />&#160;&#160;member IsFaulted : bool<br />&#160;&#160;...<br /><br />Full name: System.Threading.Tasks.Task<br /><br />--------------------<br />type Task&lt;&#39;TResult&gt; =<br />&#160;&#160;inherit Task<br />&#160;&#160;new : function:Func&lt;&#39;TResult&gt; -&gt; Task&lt;&#39;TResult&gt; + 7 overloads<br />&#160;&#160;member ContinueWith : continuationAction:Action&lt;Task&lt;&#39;TResult&gt;&gt; -&gt; Task + 9 overloads<br />&#160;&#160;member Result : &#39;TResult with get, set<br />&#160;&#160;static member Factory : TaskFactory&lt;&#39;TResult&gt;<br /><br />Full name: System.Threading.Tasks.Task&lt;_&gt;<br /><br />--------------------<br />Task(action: Action) : unit<br />Task(action: Action, cancellationToken: CancellationToken) : unit<br />Task(action: Action, creationOptions: TaskCreationOptions) : unit<br />Task(action: Action&lt;obj&gt;, state: obj) : unit<br />Task(action: Action, cancellationToken: CancellationToken, creationOptions: TaskCreationOptions) : unit<br />Task(action: Action&lt;obj&gt;, state: obj, cancellationToken: CancellationToken) : unit<br />Task(action: Action&lt;obj&gt;, state: obj, creationOptions: TaskCreationOptions) : unit<br />Task(action: Action&lt;obj&gt;, state: obj, cancellationToken: CancellationToken, creationOptions: TaskCreationOptions) : unit<br /><br />--------------------<br />Task(function: Func&lt;&#39;TResult&gt;) : unit<br />Task(function: Func&lt;&#39;TResult&gt;, cancellationToken: CancellationToken) : unit<br />Task(function: Func&lt;&#39;TResult&gt;, creationOptions: TaskCreationOptions) : unit<br />Task(function: Func&lt;obj,&#39;TResult&gt;, state: obj) : unit<br />Task(function: Func&lt;&#39;TResult&gt;, cancellationToken: CancellationToken, creationOptions: TaskCreationOptions) : unit<br />Task(function: Func&lt;obj,&#39;TResult&gt;, state: obj, cancellationToken: CancellationToken) : unit<br />Task(function: Func&lt;obj,&#39;TResult&gt;, state: obj, creationOptions: TaskCreationOptions) : unit<br />Task(function: Func&lt;obj,&#39;TResult&gt;, state: obj, cancellationToken: CancellationToken, creationOptions: TaskCreationOptions) : unit</div>
<div class="tip" id="fs32">type SimplestFSharpHttpApp = HttpRequestMessage -&gt; Async&lt;HttpResponseMessage&gt;<br /><br />Full name: Document.SimplestFSharpHttpApp</div>
<div class="tip" id="fs33">val handler : request:HttpRequestMessage -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.handler</div>
<div class="tip" id="fs34">val handleGet : request:HttpRequestMessage -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.handleGet</div>
<div class="tip" id="fs35">val handlePost : value:&#39;a -&gt; request:HttpRequestMessage -&gt; Async&lt;&#39;b&gt;<br /><br />Full name: Document.handlePost</div>
<div class="tip" id="fs36">val value : &#39;a</div>
<div class="tip" id="fs37">type HttpStatusCode =<br />&#160;&#160;| Continue = 100<br />&#160;&#160;| SwitchingProtocols = 101<br />&#160;&#160;| OK = 200<br />&#160;&#160;| Created = 201<br />&#160;&#160;| Accepted = 202<br />&#160;&#160;| NonAuthoritativeInformation = 203<br />&#160;&#160;| NoContent = 204<br />&#160;&#160;| ResetContent = 205<br />&#160;&#160;| PartialContent = 206<br />&#160;&#160;| MultipleChoices = 300<br />&#160;&#160;...<br /><br />Full name: System.Net.HttpStatusCode</div>
<div class="tip" id="fs38">field HttpStatusCode.Created = 201</div>
<div class="tip" id="fs39">Multiple items<br />type TogetherController =<br />&#160;&#160;inherit obj<br />&#160;&#160;new : unit -&gt; TogetherController<br />&#160;&#160;member Get : unit -&gt; &#39;a<br />&#160;&#160;member Post : value:&#39;a -&gt; &#39;b<br /><br />Full name: Document.TogetherController<br /><br />--------------------<br />new : unit -&gt; TogetherController</div>
<div class="tip" id="fs40">member TogetherController.Get : unit -&gt; &#39;a<br /><br />Full name: Document.TogetherController.Get</div>
<div class="tip" id="fs41">static member Async.StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;</div>
<div class="tip" id="fs42">member TogetherController.Post : value:&#39;a -&gt; &#39;b<br /><br />Full name: Document.TogetherController.Post</div>
<div class="tip" id="fs43">val getHandler : request:HttpRequestMessage -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.Sample.getHandler</div>
<div class="tip" id="fs44">val postHandler : request:HttpRequestMessage -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.Sample.postHandler</div>
<div class="tip" id="fs45">val value : string</div>
<div class="tip" id="fs46">property HttpRequestMessage.Content: HttpContent</div>
<div class="tip" id="fs47">HttpContent.ReadAsStringAsync() : Task&lt;string&gt;</div>
<div class="tip" id="fs48">static member Async.AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;</div>
<div class="tip" id="fs49">val sampleResource : obj<br /><br />Full name: Document.Sample.sampleResource</div>
<div class="tip" id="fs50">val registerSample : config:&#39;a -&gt; &#39;b<br /><br />Full name: Document.Sample.registerSample</div>
<div class="tip" id="fs51">val config : &#39;a</div>
<div class="tip" id="fs52">val domainLogic : value:string -&gt; string<br /><br />Full name: Document.Domain.domainLogic</div>
<div class="tip" id="fs53">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs54">String.ToUpper() : string<br />String.ToUpper(culture: Globalization.CultureInfo) : string</div>
<div class="tip" id="fs55">val unwrapRequest : request:HttpRequestMessage -&gt; Async&lt;string&gt;<br /><br />Full name: Document.Web.unwrapRequest</div>
<div class="tip" id="fs56">val wrapResponse : value:&#39;a -&gt; request:HttpRequestMessage -&gt; &#39;b<br /><br />Full name: Document.Web.wrapResponse</div>
<div class="tip" id="fs57">val handle : request:HttpRequestMessage -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.App.handle</div>
<div class="tip" id="fs58">Multiple items<br />module Web<br /><br />from Document<br /><br />--------------------<br />namespace System.Web</div>
<div class="tip" id="fs59">val value&#39; : string</div>
<div class="tip" id="fs60">module Domain<br /><br />from Document</div>
<div class="tip" id="fs61">val remove : Async&lt;unit option&gt;<br /><br />Full name: Document.remove</div>
<div class="tip" id="fs62">val result : Choice&lt;int,exn&gt;</div>
<div class="tip" id="fs63">val failwith : message:string -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.failwith</div>
<div class="tip" id="fs64">static member Async.Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;</div>
<div class="tip" id="fs65">union case Choice.Choice1Of2: &#39;T1 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;</div>
<div class="tip" id="fs66">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs67">union case Choice.Choice2Of2: &#39;T2 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;</div>
<div class="tip" id="fs68">union case Option.None: Option&lt;&#39;T&gt;</div>

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section>

<h1>F# on the Web</h1>

<h2>0 to Production in 12 Weeks</h2>

</section>

<section>

<h2>Ryan Riley</h2>

<img src="images/tachyus.png" alt="Tachyus logo" style="background-color: #fff; display: block; margin: 10px auto;" />

<ul>
<li>Lead <a href="http://c4fsharp.net/">Community for F#</a></li>
<li>Microsoft Visual F# MVP</li>
<li>ASPInsider</li>
<li><a href="http://owin.org/">OWIN</a> Management Committee</li>
</ul>

</section>

<section>

<h2>Agenda</h2>

<ul>
<li>Tachyus' success with F#</li>
<li>Data access</li>
<li>Web APIs</li>
<li>Domain mapping</li>
<li>Questions</li>
</ul>

</section>

<section>

<section>

<h1>Tachyus Software</h1>

</section>

<section>

<h2>ASP.NET Web API via Azure Web Sites</h2>

</section>

<section>

<h2>AngularJS SPA for back office</h2>

<p>(Straight JavaScript; not currently using F# -> JavaScript compilation)</p>

</section>

<section>

<h2>iOS data collection for field</h2>

</section>

<section>

<h2>Replaced Existing Systems:</h2>

<ul>
<li>PHP-based web app for reporting</li>
<li>Manual data collection from oil fields</li>
</ul>

</section>

</section>

<section>

<section>

<h1>Why F#?</h1>

<p><img src="images/fssf.png" alt="F# Software Foundation" /></p>

</section>

<section>

<h2>CEO Initially Skeptical</h2>

</section>

<section>

<h2>CTO Created Protoype</h2>

</section>

<section>

<h2>CEO Convinced</h2>

<ul>
<li>Solved a talent problem</li>
<li>Attract really good people</li>
<li>Fit for data analysis</li>
</ul>

</section>

<section>

<h2>CTO Convinced</h2>

<ul>
<li>Domain-focused programming</li>
<li>Math / science-focused solution</li>
<li>Full .NET compatibility</li>
<li>Cross-platform</li>
</ul>

</section>

<section>

<h2>Active, Strong Community</h2>

<blockquote>
  I like this [tech] community better than any community I've seen out there.
  <footer>
    <cite>Dakin Sloss, Tachyus Founder &amp; CEO</cite>
  </footer>
</blockquote>

</section>

</section>

<section>

<section>

<h1>F# and Data Access</h1>

</section>

<section>

<h2>LINQ to SQL or Entity Framework?</h2>

</section>

<section>

<h2><a href="https://fsprojects.github.io/FSharp.Data.SqlClient/"><strong>FSharp.Data.SqlClient</strong></a></h2>

<blockquote>
  SQL is the best DSL for working with data
  <footer>
    <cite><a href="http://www.infoq.com/articles/ORM-Saffron-Conery">Rob Conery</a></cite>
  </footer>
</blockquote>

</section>

<section>

<h2>Quick Sample</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">open</span> <span class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 15)" onmouseover="showTip(event, 'fs7', 15)" class="i">Data</span>

<span class="k">let</span> [&lt;<span onmouseout="hideTip(event, 'fs8', 16)" onmouseover="showTip(event, 'fs8', 16)" class="i">Literal</span>&gt;] <span onmouseout="hideTip(event, 'fs9', 17)" onmouseover="showTip(event, 'fs9', 17)" class="i">connectionString</span> <span class="o">=</span>
    <span class="s">&quot;</span><span class="s">Data</span><span class="s"> </span><span class="s">Source</span><span class="s">=</span><span class="s">.</span><span class="s">;</span><span class="s">Initial</span><span class="s"> </span><span class="s">Catalog</span><span class="s">=</span><span class="s">Todo</span><span class="s">;</span><span class="s">Integrated</span><span class="s"> </span><span class="s">Security</span><span class="s">=</span><span class="s">SSPI</span><span class="s">&quot;</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs10', 18)" onmouseover="showTip(event, 'fs10', 18)" class="i">GetTodos</span> <span class="o">=</span> <span class="i">SqlCommandProvider</span><span class="o">&lt;</span><span class="s">&quot;</span>
<span class="s">    </span><span class="s">select</span><span class="s"> </span><span class="s">Id</span><span class="s">,</span><span class="s"> </span><span class="s">Title</span><span class="s">,</span><span class="s"> </span><span class="s">Completed</span><span class="s">,</span><span class="s"> </span><span class="s">[</span><span class="s">Order</span><span class="s">]</span><span class="s"> </span><span class="s">from</span><span class="s"> </span><span class="s">Todo</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs9', 19)" onmouseover="showTip(event, 'fs9', 19)" class="i">connectionString</span><span class="o">&gt;</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs11', 20)" onmouseover="showTip(event, 'fs11', 20)" class="i">GetTodo</span> <span class="o">=</span> <span class="i">SqlCommandProvider</span><span class="o">&lt;</span><span class="s">&quot;</span>
<span class="s">    </span><span class="s">select</span><span class="s"> </span><span class="s">Id</span><span class="s">,</span><span class="s"> </span><span class="s">Title</span><span class="s">,</span><span class="s"> </span><span class="s">Completed</span><span class="s">,</span><span class="s"> </span><span class="s">[</span><span class="s">Order</span><span class="s">]</span><span class="s"> </span><span class="s">from</span><span class="s"> </span><span class="s">Todo</span><span class="s"> </span><span class="s">where</span><span class="s"> </span><span class="s">Id</span><span class="s"> </span><span class="s">=</span><span class="s"> </span><span class="s">@</span><span class="s">id</span>
<span class="s">    </span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs9', 21)" onmouseover="showTip(event, 'fs9', 21)" class="i">connectionString</span>, <span class="i">SingleRow</span> <span class="o">=</span> <span class="k">true</span><span class="o">&gt;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs12', 22)" onmouseover="showTip(event, 'fs12', 22)" class="i">result</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs13', 23)" onmouseover="showTip(event, 'fs13', 23)" class="i">async</span> {
        <span class="k">use</span> <span onmouseout="hideTip(event, 'fs14', 24)" onmouseover="showTip(event, 'fs14', 24)" class="i">cmd</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs11', 25)" onmouseover="showTip(event, 'fs11', 25)" class="i">GetTodo</span>()
        <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs14', 26)" onmouseover="showTip(event, 'fs14', 26)" class="i">cmd</span><span class="o">.</span><span class="i">AsyncExecute</span>(<span onmouseout="hideTip(event, 'fs15', 27)" onmouseover="showTip(event, 'fs15', 27)" class="i">id</span> <span class="o">=</span> <span class="n">1</span>) }
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs16', 28)" onmouseover="showTip(event, 'fs16', 28)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 29)" onmouseover="showTip(event, 'fs17', 29)" class="i">RunSynchronously</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 30)" onmouseover="showTip(event, 'fs18', 30)" class="i">todo</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 31)" onmouseover="showTip(event, 'fs11', 31)" class="i">GetTodo</span><span class="o">.</span><span class="i">Record</span>(<span class="n">0</span>, <span class="s">&quot;</span><span class="s">New</span><span class="s"> </span><span class="s">todo</span><span class="s">&quot;</span>, <span class="k">false</span>, <span class="n">1</span>)</pre>
</td>
</tr>
</table>

</section>

</section>

<section>

<section>

<h1>F# on the Web</h1>

<p><img src="images/explicit.gif" alt="I think you should be more explicit here in step two" /></p>

</section>

<section>

<h2>Getting Started</h2>

<ul>
<li><a href="http://fsharp.org/guides/web/">Web Programming with F#</a></li>
<li><a href="https://visualstudiogallery.msdn.microsoft.com/39ae8dec-d11a-4ac9-974e-be0fdadec71b">F# MVC 5 Templates</a></li>
<li><a href="https://visualstudiogallery.msdn.microsoft.com/b55b8aac-b11a-4a6a-8a77-2153f46f4e2f">F# Nancy Templates</a></li>
<li><a href="http://visualstudiogallery.msdn.microsoft.com/c7ea6e81-b383-40e4-899c-4a5ab9d68f02">Web Application Server (F# with SignalR)</a></li>
</ul>

</section>

<section>

<h2>Simplest HTTP Application</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs19', 32)" onmouseover="showTip(event, 'fs19', 32)" class="i">SimplestHttpApp</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs20', 33)" onmouseover="showTip(event, 'fs20', 33)" class="i">HttpRequestMessage</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs21', 34)" onmouseover="showTip(event, 'fs21', 34)" class="i">HttpResponseMessage</span></pre>
</td>
</tr>
</table>

</section>

<section>

<h2>HTTP "Services"</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="i">GET</span> <span class="o">/</span>
<span class="i">POST</span> <span class="o">/</span><span class="i">additems</span>
<span class="i">POST</span> <span class="o">/</span><span class="i">setresult</span><span class="o">?</span><span class="i">foo</span><span class="o">=</span><span class="i">bar</span>
<span class="i">GET</span> <span class="o">/</span><span class="i">setresult</span><span class="o">?</span><span class="i">foo</span><span class="o">=</span><span class="i">bar</span></pre>
</td>
</tr>
</table>

</section>

<section>

<h2>HTTP Resources</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="i">GET</span> <span class="o">/</span><span class="i">item</span><span class="o">/</span><span class="n">1</span>
<span class="i">POST</span> <span class="o">/</span><span class="i">item</span><span class="o">/</span><span class="n">1</span>
<span class="i">PUT</span> <span class="o">/</span><span class="i">item</span><span class="o">/</span><span class="n">1</span>
<span class="i">DELETE</span> <span class="o">/</span><span class="i">item</span><span class="o">/</span><span class="n">1</span>
<span class="i">OPTIONS</span> <span class="o">/</span><span class="i">item</span><span class="o">/</span><span class="n">1</span></pre>
</td>
</tr>
</table>

</section>

<section>

<h2>HTTP in ASP.NET Web API</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
[&lt;<span class="i">Route</span>(<span class="s">&quot;</span><span class="s">api</span><span class="s">/</span><span class="s">simple</span><span class="s">&quot;</span>)&gt;]
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs22', 35)" onmouseover="showTip(event, 'fs22', 35)" class="i">SimplestWebApiController</span>() <span class="o">=</span>
    <span class="k">inherit</span> <span class="i">ApiController</span>()
    <span class="k">member</span> <span class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 36)" onmouseover="showTip(event, 'fs23', 36)" class="i">Get</span>() <span class="o">=</span>
        <span class="c">// Do stuff</span>
        <span class="i">this</span><span class="o">.</span><span class="i">Request</span><span class="o">.</span><span class="i">CreateResponse</span>()</pre>
</td>
</tr>
</table>

</section>

<section>

<h2><em>Simplest</em> HTTP in ASP.NET Web API</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs24', 37)" onmouseover="showTip(event, 'fs24', 37)" class="i">SimplestWebApi</span>() <span class="o">=</span>
    <span class="k">inherit</span> <span onmouseout="hideTip(event, 'fs25', 38)" onmouseover="showTip(event, 'fs25', 38)" class="i">DelegatingHandler</span>()
    <span class="k">override</span> <span onmouseout="hideTip(event, 'fs26', 39)" onmouseover="showTip(event, 'fs26', 39)" class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 40)" onmouseover="showTip(event, 'fs27', 40)" class="i">SendAsync</span>(<span onmouseout="hideTip(event, 'fs28', 41)" onmouseover="showTip(event, 'fs28', 41)" class="i">request</span>, <span onmouseout="hideTip(event, 'fs29', 42)" onmouseover="showTip(event, 'fs29', 42)" class="i">cancelationToken</span>) <span class="o">=</span>
        <span class="c">// Do stuff</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs30', 43)" onmouseover="showTip(event, 'fs30', 43)" class="i">response</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 44)" onmouseover="showTip(event, 'fs28', 44)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>()
        <span onmouseout="hideTip(event, 'fs31', 45)" onmouseover="showTip(event, 'fs31', 45)" class="i">Task</span><span class="o">.</span><span class="i">FromResult</span>(<span onmouseout="hideTip(event, 'fs30', 46)" onmouseover="showTip(event, 'fs30', 46)" class="i">response</span>)</pre>
</td>
</tr>
</table>

</section>

<section>

<h2>HTTP in F#</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs32', 47)" onmouseover="showTip(event, 'fs32', 47)" class="i">SimplestFSharpHttpApp</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs20', 48)" onmouseover="showTip(event, 'fs20', 48)" class="i">HttpRequestMessage</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs16', 49)" onmouseover="showTip(event, 'fs16', 49)" class="i">Async</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs21', 50)" onmouseover="showTip(event, 'fs21', 50)" class="i">HttpResponseMessage</span><span class="o">&gt;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 51)" onmouseover="showTip(event, 'fs33', 51)" class="i">handler</span> (<span onmouseout="hideTip(event, 'fs28', 52)" onmouseover="showTip(event, 'fs28', 52)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs20', 53)" onmouseover="showTip(event, 'fs20', 53)" class="i">HttpRequestMessage</span>) <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs13', 54)" onmouseover="showTip(event, 'fs13', 54)" class="i">async</span> {
        <span class="c">// Do stuff</span>
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs28', 55)" onmouseover="showTip(event, 'fs28', 55)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>()
    }</pre>
</td>
</tr>
</table>

</section>

<section>

<h2>Putting it All Together</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs34', 56)" onmouseover="showTip(event, 'fs34', 56)" class="i">handleGet</span> (<span onmouseout="hideTip(event, 'fs28', 57)" onmouseover="showTip(event, 'fs28', 57)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs20', 58)" onmouseover="showTip(event, 'fs20', 58)" class="i">HttpRequestMessage</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 59)" onmouseover="showTip(event, 'fs13', 59)" class="i">async</span> {
    <span class="c">// Do stuff</span>
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs28', 60)" onmouseover="showTip(event, 'fs28', 60)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>()
}

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 61)" onmouseover="showTip(event, 'fs35', 61)" class="i">handlePost</span> <span onmouseout="hideTip(event, 'fs36', 62)" onmouseover="showTip(event, 'fs36', 62)" class="i">value</span> (<span onmouseout="hideTip(event, 'fs28', 63)" onmouseover="showTip(event, 'fs28', 63)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs20', 64)" onmouseover="showTip(event, 'fs20', 64)" class="i">HttpRequestMessage</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 65)" onmouseover="showTip(event, 'fs13', 65)" class="i">async</span> {
    <span class="c">// Do something with value</span>
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs28', 66)" onmouseover="showTip(event, 'fs28', 66)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span onmouseout="hideTip(event, 'fs37', 67)" onmouseover="showTip(event, 'fs37', 67)" class="i">HttpStatusCode</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 68)" onmouseover="showTip(event, 'fs38', 68)" class="i">Created</span>, <span onmouseout="hideTip(event, 'fs36', 69)" onmouseover="showTip(event, 'fs36', 69)" class="i">value</span>)
}

[&lt;<span class="i">Route</span>(<span class="s">&quot;</span><span class="s">api</span><span class="s">/</span><span class="s">together</span><span class="s">&quot;</span>)&gt;]
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs39', 70)" onmouseover="showTip(event, 'fs39', 70)" class="i">TogetherController</span>() <span class="o">=</span>
    <span class="k">inherit</span> <span class="i">ApiController</span>()
    <span class="k">member</span> <span class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs40', 71)" onmouseover="showTip(event, 'fs40', 71)" class="i">Get</span>() <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs34', 72)" onmouseover="showTip(event, 'fs34', 72)" class="i">handleGet</span> <span class="i">this</span><span class="o">.</span><span class="i">Request</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs16', 73)" onmouseover="showTip(event, 'fs16', 73)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 74)" onmouseover="showTip(event, 'fs41', 74)" class="i">StartAsTask</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs31', 75)" onmouseover="showTip(event, 'fs31', 75)" class="i">Task</span>
    <span class="k">member</span> <span class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs42', 76)" onmouseover="showTip(event, 'fs42', 76)" class="i">Post</span>(<span class="i">value</span>) <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs35', 77)" onmouseover="showTip(event, 'fs35', 77)" class="i">handlePost</span> <span class="i">value</span> <span class="i">this</span><span class="o">.</span><span class="i">Request</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs16', 78)" onmouseover="showTip(event, 'fs16', 78)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 79)" onmouseover="showTip(event, 'fs41', 79)" class="i">StartAsTask</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs31', 80)" onmouseover="showTip(event, 'fs31', 80)" class="i">Task</span></pre>
</td>
</tr>
</table>

</section>

<section>

<h2>Or Skip Web API Altogether</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">open</span> <span class="i">Frank</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 81)" onmouseover="showTip(event, 'fs1', 81)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 82)" onmouseover="showTip(event, 'fs6', 82)" class="i">Web</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 83)" onmouseover="showTip(event, 'fs3', 83)" class="i">Http</span><span class="o">.</span><span class="i">HttpResource</span>

<span class="k">module</span> <span class="i">Sample</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs43', 84)" onmouseover="showTip(event, 'fs43', 84)" class="i">getHandler</span> (<span onmouseout="hideTip(event, 'fs28', 85)" onmouseover="showTip(event, 'fs28', 85)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs20', 86)" onmouseover="showTip(event, 'fs20', 86)" class="i">HttpRequestMessage</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 87)" onmouseover="showTip(event, 'fs13', 87)" class="i">async</span> {
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs28', 88)" onmouseover="showTip(event, 'fs28', 88)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>()
    }
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs44', 89)" onmouseover="showTip(event, 'fs44', 89)" class="i">postHandler</span> (<span onmouseout="hideTip(event, 'fs28', 90)" onmouseover="showTip(event, 'fs28', 90)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs20', 91)" onmouseover="showTip(event, 'fs20', 91)" class="i">HttpRequestMessage</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 92)" onmouseover="showTip(event, 'fs13', 92)" class="i">async</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs45', 93)" onmouseover="showTip(event, 'fs45', 93)" class="i">value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 94)" onmouseover="showTip(event, 'fs28', 94)" class="i">request</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs46', 95)" onmouseover="showTip(event, 'fs46', 95)" class="i">Content</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 96)" onmouseover="showTip(event, 'fs47', 96)" class="i">ReadAsStringAsync</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs16', 97)" onmouseover="showTip(event, 'fs16', 97)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs48', 98)" onmouseover="showTip(event, 'fs48', 98)" class="i">AwaitTask</span>
        <span class="c">// Do something with value</span>
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs28', 99)" onmouseover="showTip(event, 'fs28', 99)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span onmouseout="hideTip(event, 'fs37', 100)" onmouseover="showTip(event, 'fs37', 100)" class="i">HttpStatusCode</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 101)" onmouseover="showTip(event, 'fs38', 101)" class="i">Created</span>, <span onmouseout="hideTip(event, 'fs45', 102)" onmouseover="showTip(event, 'fs45', 102)" class="i">value</span>)
    }

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs49', 103)" onmouseover="showTip(event, 'fs49', 103)" class="i">sampleResource</span> <span class="o">=</span>
        <span class="i">route</span> <span class="s">&quot;</span><span class="s">/</span><span class="s">api</span><span class="s">/</span><span class="s">sample</span><span class="s">&quot;</span> (<span class="i">get</span> <span onmouseout="hideTip(event, 'fs43', 104)" onmouseover="showTip(event, 'fs43', 104)" class="i">getHandler</span> <span class="o">&lt;|&gt;</span> <span class="i">post</span> <span onmouseout="hideTip(event, 'fs44', 105)" onmouseover="showTip(event, 'fs44', 105)" class="i">postHandler</span>)
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs50', 106)" onmouseover="showTip(event, 'fs50', 106)" class="i">registerSample</span> <span onmouseout="hideTip(event, 'fs51', 107)" onmouseover="showTip(event, 'fs51', 107)" class="i">config</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs51', 108)" onmouseover="showTip(event, 'fs51', 108)" class="i">config</span> <span class="o">|&gt;</span> <span class="i">register</span> [<span onmouseout="hideTip(event, 'fs49', 109)" onmouseover="showTip(event, 'fs49', 109)" class="i">sampleResource</span>]</pre>
</td>
</tr>
</table>

</section>

</section>

<section>

<section>

<h2>Why Extract the Handlers?</h2>

<blockquote>
    The web is a delivery mechanism.
    <footer>
        <cite><a href="https://vimeo.com/68215570">"Uncle" Bob Martin</a></cite>
    </footer>
</blockquote>

</section>

<section>

<h2>Map Domain into the Web</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">module</span> <span class="i">Domain</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs52', 110)" onmouseover="showTip(event, 'fs52', 110)" class="i">domainLogic</span> (<span onmouseout="hideTip(event, 'fs45', 111)" onmouseover="showTip(event, 'fs45', 111)" class="i">value</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs53', 112)" onmouseover="showTip(event, 'fs53', 112)" class="i">string</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs45', 113)" onmouseover="showTip(event, 'fs45', 113)" class="i">value</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 114)" onmouseover="showTip(event, 'fs54', 114)" class="i">ToUpper</span>()

<span class="k">module</span> <span onmouseout="hideTip(event, 'fs6', 115)" onmouseover="showTip(event, 'fs6', 115)" class="i">Web</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 116)" onmouseover="showTip(event, 'fs55', 116)" class="i">unwrapRequest</span> (<span onmouseout="hideTip(event, 'fs28', 117)" onmouseover="showTip(event, 'fs28', 117)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs20', 118)" onmouseover="showTip(event, 'fs20', 118)" class="i">HttpRequestMessage</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 119)" onmouseover="showTip(event, 'fs13', 119)" class="i">async</span> {
        <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs28', 120)" onmouseover="showTip(event, 'fs28', 120)" class="i">request</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs46', 121)" onmouseover="showTip(event, 'fs46', 121)" class="i">Content</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 122)" onmouseover="showTip(event, 'fs47', 122)" class="i">ReadAsStringAsync</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs16', 123)" onmouseover="showTip(event, 'fs16', 123)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs48', 124)" onmouseover="showTip(event, 'fs48', 124)" class="i">AwaitTask</span>
    }
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 125)" onmouseover="showTip(event, 'fs56', 125)" class="i">wrapResponse</span> <span onmouseout="hideTip(event, 'fs36', 126)" onmouseover="showTip(event, 'fs36', 126)" class="i">value</span> (<span onmouseout="hideTip(event, 'fs28', 127)" onmouseover="showTip(event, 'fs28', 127)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs20', 128)" onmouseover="showTip(event, 'fs20', 128)" class="i">HttpRequestMessage</span>) <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs28', 129)" onmouseover="showTip(event, 'fs28', 129)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span onmouseout="hideTip(event, 'fs36', 130)" onmouseover="showTip(event, 'fs36', 130)" class="i">value</span>)

<span class="k">module</span> <span class="i">App</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 131)" onmouseover="showTip(event, 'fs57', 131)" class="i">handle</span> <span onmouseout="hideTip(event, 'fs28', 132)" onmouseover="showTip(event, 'fs28', 132)" class="i">request</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 133)" onmouseover="showTip(event, 'fs13', 133)" class="i">async</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs45', 134)" onmouseover="showTip(event, 'fs45', 134)" class="i">value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs58', 135)" onmouseover="showTip(event, 'fs58', 135)" class="i">Web</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 136)" onmouseover="showTip(event, 'fs55', 136)" class="i">unwrapRequest</span> <span onmouseout="hideTip(event, 'fs28', 137)" onmouseover="showTip(event, 'fs28', 137)" class="i">request</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 138)" onmouseover="showTip(event, 'fs59', 138)" class="i">value&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 139)" onmouseover="showTip(event, 'fs60', 139)" class="i">Domain</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 140)" onmouseover="showTip(event, 'fs52', 140)" class="i">domainLogic</span> <span onmouseout="hideTip(event, 'fs45', 141)" onmouseover="showTip(event, 'fs45', 141)" class="i">value</span>
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs58', 142)" onmouseover="showTip(event, 'fs58', 142)" class="i">Web</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs56', 143)" onmouseover="showTip(event, 'fs56', 143)" class="i">wrapResponse</span> <span onmouseout="hideTip(event, 'fs59', 144)" onmouseover="showTip(event, 'fs59', 144)" class="i">value&#39;</span> <span onmouseout="hideTip(event, 'fs28', 145)" onmouseover="showTip(event, 'fs28', 145)" class="i">request</span>
    }</pre>
</td>
</tr>
</table>

</section>

<section>

<h2>Handling Domain Exceptions</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs61', 146)" onmouseover="showTip(event, 'fs61', 146)" class="i">remove</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 147)" onmouseover="showTip(event, 'fs13', 147)" class="i">async</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs62', 148)" onmouseover="showTip(event, 'fs62', 148)" class="i">result</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs13', 149)" onmouseover="showTip(event, 'fs13', 149)" class="i">async</span> {
            <span onmouseout="hideTip(event, 'fs63', 150)" onmouseover="showTip(event, 'fs63', 150)" class="i">failwith</span> <span class="s">&quot;</span><span class="s">Oh</span><span class="s"> </span><span class="s">no</span><span class="s">!</span><span class="s">&quot;</span>
            <span class="k">return</span> <span class="n">1</span> }
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs16', 151)" onmouseover="showTip(event, 'fs16', 151)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 152)" onmouseover="showTip(event, 'fs64', 152)" class="i">Catch</span>
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs12', 153)" onmouseover="showTip(event, 'fs12', 153)" class="i">result</span> <span class="k">with</span>
    | <span onmouseout="hideTip(event, 'fs65', 154)" onmouseover="showTip(event, 'fs65', 154)" class="i">Choice1Of2</span> _ <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'fs66', 155)" onmouseover="showTip(event, 'fs66', 155)" class="i">Some</span>()
    | <span onmouseout="hideTip(event, 'fs67', 156)" onmouseover="showTip(event, 'fs67', 156)" class="i">Choice2Of2</span> _ <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'fs68', 157)" onmouseover="showTip(event, 'fs68', 157)" class="i">None</span> }</pre>
</td>
</tr>
</table>

</section>

<section>

<h2><a href="http://fsharpforfunandprofit.com/posts/recipe-part2/">Railway-Oriented Programming</a></h2>

<iframe src="https://player.vimeo.com/video/97344498" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="http://vimeo.com/97344498">Scott Wlaschin - Railway Oriented Programming -- error handling in functional languages</a> from <a href="http://vimeo.com/ndcoslo">NDC Conferences</a> on <a href="https://vimeo.com">Vimeo</a>.</p>

</section>

<section>

<h2><a href="http://www.slideshare.net/ScottWlaschin/ddd-with-fsharptypesystemlondonndc2013">Domain Modeling</a></h2>

<iframe src="https://player.vimeo.com/video/97507575" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="http://vimeo.com/97507575">Scott Wlaschin - Domain modelling with the F# type system</a> from <a href="http://vimeo.com/ndcoslo">NDC Conferences</a> on <a href="https://vimeo.com">Vimeo</a>.</p>

</section>

</section>

<section>

<section>

<h1>Resources</h1>

</section>

<section>

<h2><a href="http://fsharp.org/guides/web">F# Software Foundation</a></h2>

</section>

<section>

<h2><a href="http://c4fsharp.net/">Community for F#</a></h2>

</section>

<section>

<h2>Sergey Tihon's <a href="http://sergeytihon.wordpress.com/category/f-weekly/">F# Weekly</a></h2>

</section>

<section>

<h2><a href="http://fsharpforfunandprofit.com/">F# for Fun and Profit</a></h2>

</section>

<section>

<h2><a href="http://msdn.microsoft.com/en-us/library/vstudio/hh314518(v=vs.100).aspx">Real World Functional Programming</a> on MSDN</h2>

</section>

</section>

<section>

<h1>Questions?</h1>

</section>



        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>
    <script>

        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            theme: 'night', // available themes are in /css/theme
            transition: 'default', // default/cube/page/concave/zoom/linear/fade/none

            // Parallax scrolling
            // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
            // parallaxBackgroundSize: '2100px 900px',

            // Optional libraries used to extend on reveal.js
            dependencies: [
                { src: 'lib/js/classList.js', condition: function () { return !document.body.classList; } },
                { src: 'plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
                { src: 'plugin/zoom-js/zoom.js', async: true, condition: function () { return !!document.body.classList; } },
                { src: 'plugin/notes/notes.js', async: true, condition: function () { return !!document.body.classList; } }
            ]
        });

    </script>
</body>
</html>

