<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>0 to Production in Twelve Weeks with F# on the Web</title>
    <meta name="description" content="The story of how Tachyus developed an application using F# in twelve weeks and replaced a customer's existing system.">
    <meta name="author" content="Ryan Riley">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="http://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/style.css" />
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/deedle.css" />
    <script src="fsharp.formatting/styles/tips.js" type="text/javascript"></script>
    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>
<body>
    <div class="reveal">
        <div class="tip" id="fs1">namespace Microsoft</div>
<div class="tip" id="fs2">namespace System</div>
<div class="tip" id="fs3">namespace System.Net</div>
<div class="tip" id="fs4">namespace System.Net.Http</div>
<div class="tip" id="fs5">namespace System.Threading</div>
<div class="tip" id="fs6">namespace System.Threading.Tasks</div>
<div class="tip" id="fs7">namespace System.Web</div>
<div class="tip" id="fs8">Multiple items<br />val Failure : message:string -&gt; exn<br /><br />Full name: Microsoft.FSharp.Core.Operators.Failure<br /><br />--------------------<br />active recognizer Failure: exn -&gt; string option<br /><br />Full name: Microsoft.FSharp.Core.Operators.( |Failure|_| )</div>
<div class="tip" id="fs9">union case Choice.Choice1Of2: &#39;T1 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;</div>
<div class="tip" id="fs10">val x : &#39;a</div>
<div class="tip" id="fs11">union case Choice.Choice2Of2: &#39;T2 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;</div>
<div class="tip" id="fs12">val x : &#39;b</div>
<div class="tip" id="fs13">active recognizer Failure: exn -&gt; string option<br /><br />Full name: Microsoft.FSharp.Core.Operators.( |Failure|_| )</div>
<div class="tip" id="fs14">Multiple items<br />type LiteralAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; LiteralAttribute<br /><br />Full name: Microsoft.FSharp.Core.LiteralAttribute<br /><br />--------------------<br />new : unit -&gt; LiteralAttribute</div>
<div class="tip" id="fs15">val connectionString : string<br /><br />Full name: Document.connectionString</div>
<div class="tip" id="fs16">val key : string<br /><br />Full name: Document.key</div>
<div class="tip" id="fs17">type AppDomain =<br />&#160;&#160;inherit MarshalByRefObject<br />&#160;&#160;member ActivationContext : ActivationContext<br />&#160;&#160;member AppendPrivatePath : path:string -&gt; unit<br />&#160;&#160;member ApplicationIdentity : ApplicationIdentity<br />&#160;&#160;member ApplicationTrust : ApplicationTrust<br />&#160;&#160;member ApplyPolicy : assemblyName:string -&gt; string<br />&#160;&#160;member BaseDirectory : string<br />&#160;&#160;member ClearPrivatePath : unit -&gt; unit<br />&#160;&#160;member ClearShadowCopyPath : unit -&gt; unit<br />&#160;&#160;member CreateComInstanceFrom : assemblyName:string * typeName:string -&gt; ObjectHandle + 1 overload<br />&#160;&#160;member CreateInstance : assemblyName:string * typeName:string -&gt; ObjectHandle + 3 overloads<br />&#160;&#160;...<br /><br />Full name: System.AppDomain</div>
<div class="tip" id="fs18">property AppDomain.CurrentDomain: AppDomain</div>
<div class="tip" id="fs19">AppDomain.SetData(name: string, data: obj) : unit<br />AppDomain.SetData(name: string, data: obj, permission: Security.IPermission) : unit</div>
<div class="tip" id="fs20">val connString : Lazy&lt;obj&gt;<br /><br />Full name: Document.connString</div>
<div class="tip" id="fs21">AppDomain.GetData(name: string) : obj</div>
<div class="tip" id="fs22">Multiple items<br />namespace System.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="tip" id="fs23">type GetTodos = obj<br /><br />Full name: Document.GetTodos</div>
<div class="tip" id="fs24">type GetTodo = obj<br /><br />Full name: Document.GetTodo</div>
<div class="tip" id="fs25">val result : obj<br /><br />Full name: Document.result</div>
<div class="tip" id="fs26">val async : AsyncBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.async</div>
<div class="tip" id="fs27">val cmd : GetTodo</div>
<div class="tip" id="fs28">val id : x:&#39;T -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.id</div>
<div class="tip" id="fs29">Multiple items<br />type Async<br />static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member CancelDefaultToken : unit -&gt; unit<br />static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg:&#39;Arg1 * beginAction:(&#39;Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * beginAction:(&#39;Arg1 * &#39;Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * arg3:&#39;Arg3 * beginAction:(&#39;Arg1 * &#39;Arg2 * &#39;Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member Ignore : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;unit&gt;<br />static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />static member Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;<br />static member RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T<br />static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;<br />static member StartChild : computation:Async&lt;&#39;T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;&#39;T&gt;&gt;<br />static member StartChildAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions -&gt; Async&lt;Task&lt;&#39;T&gt;&gt;<br />static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartWithContinuations : computation:Async&lt;&#39;T&gt; * continuation:(&#39;T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />static member TryCancelled : computation:Async&lt;&#39;T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member CancellationToken : Async&lt;CancellationToken&gt;<br />static member DefaultCancellationToken : CancellationToken<br /><br />Full name: Microsoft.FSharp.Control.Async<br /><br />--------------------<br />type Async&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;</div>
<div class="tip" id="fs30">static member Async.RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T</div>
<div class="tip" id="fs31">val todo : obj<br /><br />Full name: Document.todo</div>
<div class="tip" id="fs32">type SimplestHttpApp = HttpRequestMessage -&gt; HttpResponseMessage<br /><br />Full name: Document.SimplestHttpApp</div>
<div class="tip" id="fs33">Multiple items<br />type HttpRequestMessage =<br />&#160;&#160;new : unit -&gt; HttpRequestMessage + 2 overloads<br />&#160;&#160;member Content : HttpContent with get, set<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member Headers : HttpRequestHeaders<br />&#160;&#160;member Method : HttpMethod with get, set<br />&#160;&#160;member Properties : IDictionary&lt;string, obj&gt;<br />&#160;&#160;member RequestUri : Uri with get, set<br />&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;member Version : Version with get, set<br /><br />Full name: System.Net.Http.HttpRequestMessage<br /><br />--------------------<br />HttpRequestMessage() : unit<br />HttpRequestMessage(method: HttpMethod, requestUri: Uri) : unit<br />HttpRequestMessage(method: HttpMethod, requestUri: string) : unit</div>
<div class="tip" id="fs34">Multiple items<br />type HttpResponseMessage =<br />&#160;&#160;new : unit -&gt; HttpResponseMessage + 1 overload<br />&#160;&#160;member Content : HttpContent with get, set<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member EnsureSuccessStatusCode : unit -&gt; HttpResponseMessage<br />&#160;&#160;member Headers : HttpResponseHeaders<br />&#160;&#160;member IsSuccessStatusCode : bool<br />&#160;&#160;member ReasonPhrase : string with get, set<br />&#160;&#160;member RequestMessage : HttpRequestMessage with get, set<br />&#160;&#160;member StatusCode : HttpStatusCode with get, set<br />&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.Net.Http.HttpResponseMessage<br /><br />--------------------<br />HttpResponseMessage() : unit<br />HttpResponseMessage(statusCode: HttpStatusCode) : unit</div>
<div class="tip" id="fs35">Multiple items<br />type SealedAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; SealedAttribute<br />&#160;&#160;new : value:bool -&gt; SealedAttribute<br />&#160;&#160;member Value : bool<br /><br />Full name: Microsoft.FSharp.Core.SealedAttribute<br /><br />--------------------<br />new : unit -&gt; SealedAttribute<br />new : value:bool -&gt; SealedAttribute</div>
<div class="tip" id="fs36">Multiple items<br />type Startup =<br />&#160;&#160;new : unit -&gt; Startup<br />&#160;&#160;member Configuration : builder:&#39;a -&gt; unit<br /><br />Full name: Document.Startup<br /><br />--------------------<br />new : unit -&gt; Startup</div>
<div class="tip" id="fs37">Multiple items<br />member Startup.Configuration : builder:&#39;a -&gt; unit<br /><br />Full name: Document.Startup.Configuration<br /><br />--------------------<br />namespace System.Net.Configuration<br /><br />--------------------<br />namespace System.Configuration</div>
<div class="tip" id="fs38">val builder : &#39;a</div>
<div class="tip" id="fs39">val config : obj</div>
<div class="tip" id="fs40">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>
<div class="tip" id="fs41">Multiple items<br />type TodosController =<br />&#160;&#160;inherit obj<br />&#160;&#160;new : unit -&gt; TodosController<br />&#160;&#160;member GetTodos : unit -&gt; &#39;a<br /><br />Full name: Document.TodosController<br /><br />--------------------<br />new : unit -&gt; TodosController</div>
<div class="tip" id="fs42">Multiple items<br />member TodosController.GetTodos : unit -&gt; &#39;a<br /><br />Full name: Document.TodosController.GetTodos<br /><br />--------------------<br />type GetTodos = obj<br /><br />Full name: Document.GetTodos</div>
<div class="tip" id="fs43">type Array =<br />&#160;&#160;member Clone : unit -&gt; obj<br />&#160;&#160;member CopyTo : array:Array * index:int -&gt; unit + 1 overload<br />&#160;&#160;member GetEnumerator : unit -&gt; IEnumerator<br />&#160;&#160;member GetLength : dimension:int -&gt; int<br />&#160;&#160;member GetLongLength : dimension:int -&gt; int64<br />&#160;&#160;member GetLowerBound : dimension:int -&gt; int<br />&#160;&#160;member GetUpperBound : dimension:int -&gt; int<br />&#160;&#160;member GetValue : params indices:int[] -&gt; obj + 7 overloads<br />&#160;&#160;member Initialize : unit -&gt; unit<br />&#160;&#160;member IsFixedSize : bool<br />&#160;&#160;...<br /><br />Full name: System.Array</div>
<div class="tip" id="fs44">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><br />Full name: Microsoft.FSharp.Collections.Array.map</div>
<div class="tip" id="fs45">Multiple items<br />type Uri =<br />&#160;&#160;new : uriString:string -&gt; Uri + 5 overloads<br />&#160;&#160;member AbsolutePath : string<br />&#160;&#160;member AbsoluteUri : string<br />&#160;&#160;member Authority : string<br />&#160;&#160;member DnsSafeHost : string<br />&#160;&#160;member Equals : comparand:obj -&gt; bool<br />&#160;&#160;member Fragment : string<br />&#160;&#160;member GetComponents : components:UriComponents * format:UriFormat -&gt; string<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;member GetLeftPart : part:UriPartial -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.Uri<br /><br />--------------------<br />Uri(uriString: string) : unit<br />Uri(uriString: string, uriKind: UriKind) : unit<br />Uri(baseUri: Uri, relativeUri: string) : unit<br />Uri(baseUri: Uri, relativeUri: Uri) : unit</div>
<div class="tip" id="fs46">static member Async.StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;</div>
<div class="tip" id="fs47">type SimplestFSharpHttpApp = HttpRequestMessage -&gt; Async&lt;HttpResponseMessage&gt;<br /><br />Full name: Document.SimplestFSharpHttpApp</div>
<div class="tip" id="fs48">val handler : request:HttpRequestMessage -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.handler</div>
<div class="tip" id="fs49">val request : HttpRequestMessage</div>
<div class="tip" id="fs50">val todos : obj</div>
<div class="tip" id="fs51">val todos&#39; : obj</div>
<div class="tip" id="fs52">val mapTodos : todos:&#39;a [] -&gt; &#39;b []<br /><br />Full name: Document.mapTodos</div>
<div class="tip" id="fs53">val todos : &#39;a []</div>
<div class="tip" id="fs54">Multiple items<br />val seq : sequence:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.Operators.seq<br /><br />--------------------<br />type seq&lt;&#39;T&gt; = Collections.Generic.IEnumerable&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.seq&lt;_&gt;</div>
<div class="tip" id="fs55">val domainLogic : value:string -&gt; string<br /><br />Full name: Document.Domain.domainLogic</div>
<div class="tip" id="fs56">val value : string</div>
<div class="tip" id="fs57">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs58">String.ToUpper() : string<br />String.ToUpper(culture: Globalization.CultureInfo) : string</div>
<div class="tip" id="fs59">val unwrapRequest : request:HttpRequestMessage -&gt; Async&lt;string&gt;<br /><br />Full name: Document.Web.unwrapRequest</div>
<div class="tip" id="fs60">property HttpRequestMessage.Content: HttpContent</div>
<div class="tip" id="fs61">HttpContent.ReadAsStringAsync() : Task&lt;string&gt;</div>
<div class="tip" id="fs62">static member Async.AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;</div>
<div class="tip" id="fs63">val wrapResponse : value:&#39;a -&gt; request:HttpRequestMessage -&gt; &#39;b<br /><br />Full name: Document.Web.wrapResponse</div>
<div class="tip" id="fs64">val value : &#39;a</div>
<div class="tip" id="fs65">val handle : request:HttpRequestMessage -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.App.handle</div>
<div class="tip" id="fs66">Multiple items<br />module Web<br /><br />from Document<br /><br />--------------------<br />namespace System.Web</div>
<div class="tip" id="fs67">val value&#39; : string</div>
<div class="tip" id="fs68">module Domain<br /><br />from Document</div>
<div class="tip" id="fs69">type Remove = obj<br /><br />Full name: Document.Remove</div>
<div class="tip" id="fs70">val remove : index:&#39;a -&gt; Async&lt;unit option&gt;<br /><br />Full name: Document.remove</div>
<div class="tip" id="fs71">val index : &#39;a</div>
<div class="tip" id="fs72">val result : Choice&lt;obj,exn&gt;</div>
<div class="tip" id="fs73">val cmd : Remove</div>
<div class="tip" id="fs74">static member Async.Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;</div>
<div class="tip" id="fs75">active recognizer Success: Choice&lt;&#39;a,&#39;b&gt; -&gt; Choice&lt;&#39;a,&#39;b&gt;<br /><br />Full name: Document.( |Success|Failure| )</div>
<div class="tip" id="fs76">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs77">Multiple items<br />val Failure : message:string -&gt; exn<br /><br />Full name: Microsoft.FSharp.Core.Operators.Failure<br /><br />--------------------<br />active recognizer Failure: Choice&lt;&#39;a,&#39;b&gt; -&gt; Choice&lt;&#39;a,&#39;b&gt;<br /><br />Full name: Document.( |Success|Failure| )</div>
<div class="tip" id="fs78">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs79">module Sample<br /><br />from Document</div>
<div class="tip" id="fs80">val getHandler : request:HttpRequestMessage -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.Sample.getHandler</div>
<div class="tip" id="fs81">val postHandler : request:HttpRequestMessage -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: Document.Sample.postHandler</div>
<div class="tip" id="fs82">type HttpStatusCode =<br />&#160;&#160;| Continue = 100<br />&#160;&#160;| SwitchingProtocols = 101<br />&#160;&#160;| OK = 200<br />&#160;&#160;| Created = 201<br />&#160;&#160;| Accepted = 202<br />&#160;&#160;| NonAuthoritativeInformation = 203<br />&#160;&#160;| NoContent = 204<br />&#160;&#160;| ResetContent = 205<br />&#160;&#160;| PartialContent = 206<br />&#160;&#160;| MultipleChoices = 300<br />&#160;&#160;...<br /><br />Full name: System.Net.HttpStatusCode</div>
<div class="tip" id="fs83">field HttpStatusCode.Created = 201</div>
<div class="tip" id="fs84">val sampleResource : obj<br /><br />Full name: Document.Sample.sampleResource</div>
<div class="tip" id="fs85">val registerSample : config:&#39;a -&gt; &#39;b<br /><br />Full name: Document.Sample.registerSample</div>
<div class="tip" id="fs86">val config : &#39;a</div>

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section>

<h1>F# on the Web</h1>

<h2>0 to Production in 12 Weeks</h2>

</section>

<section>

<h2>Ryan Riley</h2>

<img src="images/tachyus.png" alt="Tachyus logo" style="background-color: #fff; display: block; margin: 10px auto;" />

<ul>
<li>Lead <a href="http://c4fsharp.net/">Community for F#</a></li>
<li>Microsoft Visual F# MVP</li>
<li>ASPInsider</li>
<li><a href="http://owin.org/">OWIN</a> Management Committee</li>
</ul>

</section>

<section>

<h2>Agenda</h2>

<ul>
<li>Tachyus' success with F#</li>
<li>Build an F# web API
<ul>
<li>Getting started</li>
<li>Data access</li>
<li>Web APIs</li>
<li>Domain mapping</li>
</ul></li>
<li>Questions</li>
</ul>

</section>

<section>

<section>

<h1>Tachyus Software</h1>

</section>

<section>

<h2>ASP.NET Web API via Azure Web Sites</h2>

</section>

<section>

<h2>AngularJS SPA for back office</h2>

<p>(Straight JavaScript; not currently using F# -> JavaScript compilation)</p>

</section>

<section>

<h2>iOS data collection for field</h2>

</section>

<section>

<h2>Replaced Existing Systems:</h2>

<ul>
<li>PHP-based web app for reporting</li>
<li>Manual data collection from oil fields</li>
</ul>

</section>

</section>

<section>

<section>

<h1>Why F#?</h1>

<p><img src="images/fssf.png" alt="F# Software Foundation" /></p>

</section>

<section>

<h2>CEO Initially Skeptical</h2>

</section>

<section>

<h2>CTO Created Protoype</h2>

</section>

<section>

<h2>CEO Convinced</h2>

<ul>
<li>Solved a talent problem</li>
<li>Attract really good people</li>
<li>Fit for data analysis</li>
</ul>

</section>

<section>

<h2>CTO Convinced</h2>

<ul>
<li>Domain-focused programming</li>
<li>Math / science-focused solution</li>
<li>Full .NET compatibility</li>
<li>Cross-platform</li>
</ul>

</section>

<section>

<h2>Active, Strong Community</h2>

<blockquote>
  I like this community better than any community I've seen out there.
  <footer>
    <cite>Dakin Sloss, Tachyus Founder &amp; CEO</cite>
  </footer>
</blockquote>

</section>

</section>

<section>

<section>

<h1>F# on the Web</h1>

</section>

<section>

<h2>Getting Started</h2>

<ul>
<li><a href="http://fsharp.org/guides/web/">Web Programming with F#</a></li>
<li><a href="https://visualstudiogallery.msdn.microsoft.com/39ae8dec-d11a-4ac9-974e-be0fdadec71b">F# MVC 5 Templates</a></li>
</ul>

</section>

<section>

<h2>Demo:</h2>

<h2>F# MVC 5 Template</h2>

<ol>
<li>File -> New -> Project</li>
<li>F# ASP.NET MVC 5 and Web API 2</li>
<li>Choose empty Web API project</li>
</ol>

</section>

</section>

<section>

<h1>Project:</h1>

<h2>Todo Backend</h2>

<p><a href="http://todo-backend.thepete.net/">http://todo-backend.thepete.net/</a></p>

</section>

<section>

<section>

<h1>F# and Data Access</h1>

</section>

<section>

<h2>LINQ to SQL or Entity Framework?</h2>

</section>

<section>

<h2><a href="https://fsprojects.github.io/FSharp.Data.SqlClient/"><strong>FSharp.Data.SqlClient</strong></a></h2>

<blockquote>
  SQL is the best DSL for working with data
  <footer>
    <cite><a href="http://www.infoq.com/articles/ORM-Saffron-Conery">Rob Conery</a></cite>
  </footer>
</blockquote>

</section>

<section>

<h2>Quick Sample</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">open</span> <span class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 38)" onmouseover="showTip(event, 'fs22', 38)" class="i">Data</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs23', 39)" onmouseover="showTip(event, 'fs23', 39)" class="i">GetTodos</span> <span class="o">=</span> <span class="i">SqlCommandProvider</span><span class="o">&lt;</span><span class="s">&quot;</span>
<span class="s">    </span><span class="s">select</span><span class="s"> </span><span class="s">Id</span><span class="s">,</span><span class="s"> </span><span class="s">Title</span><span class="s">,</span><span class="s"> </span><span class="s">Completed</span><span class="s">,</span><span class="s"> </span><span class="s">[</span><span class="s">Order</span><span class="s">]</span><span class="s"> </span><span class="s">from</span><span class="s"> </span><span class="s">Todo</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs15', 40)" onmouseover="showTip(event, 'fs15', 40)" class="i">connectionString</span><span class="o">&gt;</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs24', 41)" onmouseover="showTip(event, 'fs24', 41)" class="i">GetTodo</span> <span class="o">=</span> <span class="i">SqlCommandProvider</span><span class="o">&lt;</span><span class="s">&quot;</span>
<span class="s">    </span><span class="s">select</span><span class="s"> </span><span class="s">Id</span><span class="s">,</span><span class="s"> </span><span class="s">Title</span><span class="s">,</span><span class="s"> </span><span class="s">Completed</span><span class="s">,</span><span class="s"> </span><span class="s">[</span><span class="s">Order</span><span class="s">]</span><span class="s"> </span><span class="s">from</span><span class="s"> </span><span class="s">Todo</span><span class="s"> </span><span class="s">where</span><span class="s"> </span><span class="s">Id</span><span class="s"> </span><span class="s">=</span><span class="s"> </span><span class="s">@</span><span class="s">id</span>
<span class="s">    </span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs15', 42)" onmouseover="showTip(event, 'fs15', 42)" class="i">connectionString</span>, <span class="i">SingleRow</span> <span class="o">=</span> <span class="k">true</span><span class="o">&gt;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs25', 43)" onmouseover="showTip(event, 'fs25', 43)" class="i">result</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs26', 44)" onmouseover="showTip(event, 'fs26', 44)" class="i">async</span> {
        <span class="k">use</span> <span onmouseout="hideTip(event, 'fs27', 45)" onmouseover="showTip(event, 'fs27', 45)" class="i">cmd</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs24', 46)" onmouseover="showTip(event, 'fs24', 46)" class="i">GetTodo</span>()
        <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs27', 47)" onmouseover="showTip(event, 'fs27', 47)" class="i">cmd</span><span class="o">.</span><span class="i">AsyncExecute</span>(<span onmouseout="hideTip(event, 'fs28', 48)" onmouseover="showTip(event, 'fs28', 48)" class="i">id</span> <span class="o">=</span> <span class="n">1</span>) }
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 49)" onmouseover="showTip(event, 'fs29', 49)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 50)" onmouseover="showTip(event, 'fs30', 50)" class="i">RunSynchronously</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 51)" onmouseover="showTip(event, 'fs31', 51)" class="i">todo</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs24', 52)" onmouseover="showTip(event, 'fs24', 52)" class="i">GetTodo</span><span class="o">.</span><span class="i">Record</span>(<span class="n">0</span>, <span class="s">&quot;</span><span class="s">New</span><span class="s"> </span><span class="s">todo</span><span class="s">&quot;</span>, <span class="k">false</span>, <span class="n">1</span>)</pre>
</td>
</tr>
</table>

</section>

<section>

<h2>Project:</h2>

<h2>Implement Todo Data Access</h2>

</section>

</section>

<section>

<section>

<h1>Leveraging F#</h1>

<p><img src="images/explicit.gif" alt="I think you should be more explicit here in step two" /></p>

</section>

<section>

<h2>HTTP is Functional</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs32', 53)" onmouseover="showTip(event, 'fs32', 53)" class="i">SimplestHttpApp</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs33', 54)" onmouseover="showTip(event, 'fs33', 54)" class="i">HttpRequestMessage</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs34', 55)" onmouseover="showTip(event, 'fs34', 55)" class="i">HttpResponseMessage</span></pre>
</td>
</tr>
</table>

<h2>Project:</h2>

<h2>Implement Todo Backend</h2>

<p>Add the following NuGet packages:</p>

<ul>
<li>Microsoft.AspNet.WebApi.Owin</li>
<li>Microsoft.Owin.Cors</li>
<li>Microsoft.Owin.Host.SystemWeb</li>
</ul>

</section>

<section>

<h2>Configure</h2>

<ol>
<li>Create Startup.fs</li>
<li>Move contents from Global.asax.fs</li>
<li>Wire up CORS and Web API</li>
</ol>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
[&lt;<span onmouseout="hideTip(event, 'fs35', 56)" onmouseover="showTip(event, 'fs35', 56)" class="i">Sealed</span>&gt;]
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs36', 57)" onmouseover="showTip(event, 'fs36', 57)" class="i">Startup</span>() <span class="o">=</span>
    <span class="k">member</span> <span class="i">__</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 58)" onmouseover="showTip(event, 'fs37', 58)" class="i">Configuration</span>(<span onmouseout="hideTip(event, 'fs38', 59)" onmouseover="showTip(event, 'fs38', 59)" class="i">builder</span><span class="o">:</span> <span class="i">IAppBuilder</span>) <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 60)" onmouseover="showTip(event, 'fs39', 60)" class="i">config</span> <span class="o">=</span> <span class="k">new</span> <span class="i">HttpConfiguration</span>()
        <span onmouseout="hideTip(event, 'fs39', 61)" onmouseover="showTip(event, 'fs39', 61)" class="i">config</span><span class="o">.</span><span class="i">MapHttpAttributeRoutes</span>()
        <span onmouseout="hideTip(event, 'fs38', 62)" onmouseover="showTip(event, 'fs38', 62)" class="i">builder</span>
            <span class="o">.</span><span class="i">UseCors</span>(<span class="i">Cors</span><span class="o">.</span><span class="i">CorsOptions</span><span class="o">.</span><span class="i">AllowAll</span>)
            <span class="o">.</span><span class="i">UseWebApi</span>(<span onmouseout="hideTip(event, 'fs39', 63)" onmouseover="showTip(event, 'fs39', 63)" class="i">config</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs40', 64)" onmouseover="showTip(event, 'fs40', 64)" class="i">ignore</span></pre>
</td>
</tr>
</table>

</section>

<section>

<h2>HTTP in ASP.NET Web API</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
[&lt;<span class="i">RoutePrefix</span>(<span class="s">&quot;</span><span class="s">webapi</span><span class="s">&quot;</span>)&gt;]
[&lt;<span class="i">Route</span>(<span class="s">&quot;</span><span class="s">&quot;</span>)&gt;]
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs41', 65)" onmouseover="showTip(event, 'fs41', 65)" class="i">TodosController</span>() <span class="o">=</span>
    <span class="k">inherit</span> <span class="i">ApiController</span>()

    <span class="k">member</span> <span class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs42', 66)" onmouseover="showTip(event, 'fs42', 66)" class="i">GetTodos</span>() <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs26', 67)" onmouseover="showTip(event, 'fs26', 67)" class="i">async</span> {
            <span class="k">let!</span> <span class="i">todos</span> <span class="o">=</span> <span class="i">store</span><span class="o">.</span><span class="i">GetAll</span>()
            <span class="k">let</span> <span class="i">todos&#39;</span> <span class="o">=</span>
                <span class="i">todos</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 68)" onmouseover="showTip(event, 'fs43', 68)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 69)" onmouseover="showTip(event, 'fs44', 69)" class="i">map</span> (<span class="k">fun</span> <span class="i">x</span> <span class="k">-&gt;</span>
                    { <span class="i">Url</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs45', 70)" onmouseover="showTip(event, 'fs45', 70)" class="i">Uri</span>(<span class="i">this</span><span class="o">.</span><span class="i">Request</span><span class="o">.</span><span class="i">RequestUri</span><span class="o">.</span><span class="i">AbsoluteUri</span> <span class="o">+</span> <span class="i">x</span><span class="o">.</span><span class="i">Id</span><span class="o">.</span><span class="i">ToString</span>())
                      <span class="i">Title</span> <span class="o">=</span> <span class="i">x</span><span class="o">.</span><span class="i">Title</span>
                      <span class="i">Completed</span> <span class="o">=</span> <span class="i">x</span><span class="o">.</span><span class="i">Completed</span>
                      <span class="i">Order</span> <span class="o">=</span> <span class="i">x</span><span class="o">.</span><span class="i">Order</span> })
            <span class="k">return</span> <span class="i">this</span><span class="o">.</span><span class="i">Request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span class="i">todos&#39;</span>) }
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 71)" onmouseover="showTip(event, 'fs29', 71)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs46', 72)" onmouseover="showTip(event, 'fs46', 72)" class="i">StartAsTask</span></pre>
</td>
</tr>
</table>

</section>

<section>

<h2>Extract the handler function</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs47', 73)" onmouseover="showTip(event, 'fs47', 73)" class="i">SimplestFSharpHttpApp</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs33', 74)" onmouseover="showTip(event, 'fs33', 74)" class="i">HttpRequestMessage</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs29', 75)" onmouseover="showTip(event, 'fs29', 75)" class="i">Async</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs34', 76)" onmouseover="showTip(event, 'fs34', 76)" class="i">HttpResponseMessage</span><span class="o">&gt;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 77)" onmouseover="showTip(event, 'fs48', 77)" class="i">handler</span> (<span onmouseout="hideTip(event, 'fs49', 78)" onmouseover="showTip(event, 'fs49', 78)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs33', 79)" onmouseover="showTip(event, 'fs33', 79)" class="i">HttpRequestMessage</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 80)" onmouseover="showTip(event, 'fs26', 80)" class="i">async</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs50', 81)" onmouseover="showTip(event, 'fs50', 81)" class="i">todos</span> <span class="o">=</span> <span class="i">store</span><span class="o">.</span><span class="i">GetAll</span>()
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 82)" onmouseover="showTip(event, 'fs51', 82)" class="i">todos&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs50', 83)" onmouseover="showTip(event, 'fs50', 83)" class="i">todos</span> <span class="c">// Do stuff</span>
    <span class="k">return</span> <span onmouseout="hideTip(event, 'fs49', 84)" onmouseover="showTip(event, 'fs49', 84)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span onmouseout="hideTip(event, 'fs51', 85)" onmouseover="showTip(event, 'fs51', 85)" class="i">todos&#39;</span>) }

[&lt;<span class="i">RoutePrefix</span>(<span class="s">&quot;</span><span class="s">webapi</span><span class="s">&quot;</span>)&gt;]
[&lt;<span class="i">Route</span>(<span class="s">&quot;</span><span class="s">&quot;</span>)&gt;]
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs41', 86)" onmouseover="showTip(event, 'fs41', 86)" class="i">TodosController</span>() <span class="o">=</span>
    <span class="k">inherit</span> <span class="i">ApiController</span>()
    <span class="k">member</span> <span class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 87)" onmouseover="showTip(event, 'fs23', 87)" class="i">GetTodos</span>() <span class="o">=</span>
        <span class="i">this</span><span class="o">.</span><span class="i">Request</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs48', 88)" onmouseover="showTip(event, 'fs48', 88)" class="i">handler</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 89)" onmouseover="showTip(event, 'fs29', 89)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs46', 90)" onmouseover="showTip(event, 'fs46', 90)" class="i">StartAsTask</span></pre>
</td>
</tr>
</table>

</section>

<section>

<h2>Extract the domain function</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs52', 91)" onmouseover="showTip(event, 'fs52', 91)" class="i">mapTodos</span> (<span onmouseout="hideTip(event, 'fs53', 92)" onmouseover="showTip(event, 'fs53', 92)" class="i">todos</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs54', 93)" onmouseover="showTip(event, 'fs54', 93)" class="i">seq</span><span class="o">&lt;</span><span class="i">Todo</span><span class="o">&gt;</span>) <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs53', 94)" onmouseover="showTip(event, 'fs53', 94)" class="i">todos</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 95)" onmouseover="showTip(event, 'fs43', 95)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 96)" onmouseover="showTip(event, 'fs44', 96)" class="i">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs10', 97)" onmouseover="showTip(event, 'fs10', 97)" class="i">x</span> <span class="k">-&gt;</span>
        { <span class="i">Url</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs45', 98)" onmouseover="showTip(event, 'fs45', 98)" class="i">Uri</span>(<span class="i">this</span><span class="o">.</span><span class="i">Request</span><span class="o">.</span><span class="i">RequestUri</span><span class="o">.</span><span class="i">AbsoluteUri</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs10', 99)" onmouseover="showTip(event, 'fs10', 99)" class="i">x</span><span class="o">.</span><span class="i">Id</span><span class="o">.</span><span class="i">ToString</span>())
          <span class="i">Title</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 100)" onmouseover="showTip(event, 'fs10', 100)" class="i">x</span><span class="o">.</span><span class="i">Title</span>
          <span class="i">Completed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 101)" onmouseover="showTip(event, 'fs10', 101)" class="i">x</span><span class="o">.</span><span class="i">Completed</span>
          <span class="i">Order</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 102)" onmouseover="showTip(event, 'fs10', 102)" class="i">x</span><span class="o">.</span><span class="i">Order</span> })</pre>
</td>
</tr>
</table>

</section>

</section>

<section>

<section>

<h2>Why Extract the Handlers?</h2>

<blockquote>
    The web is a delivery mechanism.
    <footer>
        <cite><a href="https://vimeo.com/68215570">"Uncle" Bob Martin</a></cite>
    </footer>
</blockquote>

</section>

<section>

<h2>Map Domain into the Web</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">module</span> <span class="i">Domain</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 103)" onmouseover="showTip(event, 'fs55', 103)" class="i">domainLogic</span> (<span onmouseout="hideTip(event, 'fs56', 104)" onmouseover="showTip(event, 'fs56', 104)" class="i">value</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs57', 105)" onmouseover="showTip(event, 'fs57', 105)" class="i">string</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs56', 106)" onmouseover="showTip(event, 'fs56', 106)" class="i">value</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 107)" onmouseover="showTip(event, 'fs58', 107)" class="i">ToUpper</span>()

<span class="k">module</span> <span onmouseout="hideTip(event, 'fs7', 108)" onmouseover="showTip(event, 'fs7', 108)" class="i">Web</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 109)" onmouseover="showTip(event, 'fs59', 109)" class="i">unwrapRequest</span> (<span onmouseout="hideTip(event, 'fs49', 110)" onmouseover="showTip(event, 'fs49', 110)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs33', 111)" onmouseover="showTip(event, 'fs33', 111)" class="i">HttpRequestMessage</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 112)" onmouseover="showTip(event, 'fs26', 112)" class="i">async</span> {
        <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs49', 113)" onmouseover="showTip(event, 'fs49', 113)" class="i">request</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs60', 114)" onmouseover="showTip(event, 'fs60', 114)" class="i">Content</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 115)" onmouseover="showTip(event, 'fs61', 115)" class="i">ReadAsStringAsync</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 116)" onmouseover="showTip(event, 'fs29', 116)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs62', 117)" onmouseover="showTip(event, 'fs62', 117)" class="i">AwaitTask</span>
    }
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 118)" onmouseover="showTip(event, 'fs63', 118)" class="i">wrapResponse</span> <span onmouseout="hideTip(event, 'fs64', 119)" onmouseover="showTip(event, 'fs64', 119)" class="i">value</span> (<span onmouseout="hideTip(event, 'fs49', 120)" onmouseover="showTip(event, 'fs49', 120)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs33', 121)" onmouseover="showTip(event, 'fs33', 121)" class="i">HttpRequestMessage</span>) <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs49', 122)" onmouseover="showTip(event, 'fs49', 122)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span onmouseout="hideTip(event, 'fs64', 123)" onmouseover="showTip(event, 'fs64', 123)" class="i">value</span>)

<span class="k">module</span> <span class="i">App</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 124)" onmouseover="showTip(event, 'fs65', 124)" class="i">handle</span> <span onmouseout="hideTip(event, 'fs49', 125)" onmouseover="showTip(event, 'fs49', 125)" class="i">request</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 126)" onmouseover="showTip(event, 'fs26', 126)" class="i">async</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs56', 127)" onmouseover="showTip(event, 'fs56', 127)" class="i">value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs66', 128)" onmouseover="showTip(event, 'fs66', 128)" class="i">Web</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 129)" onmouseover="showTip(event, 'fs59', 129)" class="i">unwrapRequest</span> <span onmouseout="hideTip(event, 'fs49', 130)" onmouseover="showTip(event, 'fs49', 130)" class="i">request</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs67', 131)" onmouseover="showTip(event, 'fs67', 131)" class="i">value&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs68', 132)" onmouseover="showTip(event, 'fs68', 132)" class="i">Domain</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 133)" onmouseover="showTip(event, 'fs55', 133)" class="i">domainLogic</span> <span onmouseout="hideTip(event, 'fs56', 134)" onmouseover="showTip(event, 'fs56', 134)" class="i">value</span>
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs66', 135)" onmouseover="showTip(event, 'fs66', 135)" class="i">Web</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 136)" onmouseover="showTip(event, 'fs63', 136)" class="i">wrapResponse</span> <span onmouseout="hideTip(event, 'fs67', 137)" onmouseover="showTip(event, 'fs67', 137)" class="i">value&#39;</span> <span onmouseout="hideTip(event, 'fs49', 138)" onmouseover="showTip(event, 'fs49', 138)" class="i">request</span>
    }</pre>
</td>
</tr>
</table>

</section>

<section>

<h2>Handling Domain Exceptions</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs69', 139)" onmouseover="showTip(event, 'fs69', 139)" class="i">Remove</span> <span class="o">=</span> <span class="i">SqlCommandProvider</span><span class="o">&lt;</span><span class="s">&quot;</span>
<span class="s">    </span><span class="s">delete</span><span class="s"> </span><span class="s">from</span><span class="s"> </span><span class="s">Todo</span>
<span class="s">    </span><span class="s">where</span><span class="s"> </span><span class="s">Id</span><span class="s"> </span><span class="s">=</span><span class="s"> </span><span class="s">@</span><span class="s">id</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs15', 140)" onmouseover="showTip(event, 'fs15', 140)" class="i">connectionString</span><span class="o">&gt;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs70', 141)" onmouseover="showTip(event, 'fs70', 141)" class="i">remove</span> <span onmouseout="hideTip(event, 'fs71', 142)" onmouseover="showTip(event, 'fs71', 142)" class="i">index</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 143)" onmouseover="showTip(event, 'fs26', 143)" class="i">async</span> {
    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs72', 144)" onmouseover="showTip(event, 'fs72', 144)" class="i">result</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs26', 145)" onmouseover="showTip(event, 'fs26', 145)" class="i">async</span> {
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs73', 146)" onmouseover="showTip(event, 'fs73', 146)" class="i">cmd</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs69', 147)" onmouseover="showTip(event, 'fs69', 147)" class="i">Remove</span>()
            <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs73', 148)" onmouseover="showTip(event, 'fs73', 148)" class="i">cmd</span><span class="o">.</span><span class="i">AsyncExecute</span>(<span onmouseout="hideTip(event, 'fs71', 149)" onmouseover="showTip(event, 'fs71', 149)" class="i">index</span>) }
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 150)" onmouseover="showTip(event, 'fs29', 150)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 151)" onmouseover="showTip(event, 'fs74', 151)" class="i">Catch</span>
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs25', 152)" onmouseover="showTip(event, 'fs25', 152)" class="i">result</span> <span class="k">with</span>
    | <span onmouseout="hideTip(event, 'fs75', 153)" onmouseover="showTip(event, 'fs75', 153)" class="i">Success</span> _ <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'fs76', 154)" onmouseover="showTip(event, 'fs76', 154)" class="i">Some</span>()
    | <span onmouseout="hideTip(event, 'fs77', 155)" onmouseover="showTip(event, 'fs77', 155)" class="i">Failure</span> _ <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'fs78', 156)" onmouseover="showTip(event, 'fs78', 156)" class="i">None</span> }</pre>
</td>
</tr>
</table>

</section>

<section>

<h2><a href="http://fsharpforfunandprofit.com/posts/recipe-part2/">Railway-Oriented Programming</a></h2>

<iframe src="https://player.vimeo.com/video/97344498" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="http://vimeo.com/97344498">Scott Wlaschin - Railway Oriented Programming -- error handling in functional languages</a> from <a href="http://vimeo.com/ndcoslo">NDC Conferences</a> on <a href="https://vimeo.com">Vimeo</a>.</p>

</section>

<section>

<h2><a href="http://www.slideshare.net/ScottWlaschin/ddd-with-fsharptypesystemlondonndc2013">Domain Modeling</a></h2>

<iframe src="https://player.vimeo.com/video/97507575" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="http://vimeo.com/97507575">Scott Wlaschin - Domain modelling with the F# type system</a> from <a href="http://vimeo.com/ndcoslo">NDC Conferences</a> on <a href="https://vimeo.com">Vimeo</a>.</p>

</section>

</section>

<section>

<h2>Skip Web API Altogether</h2>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">open</span> <span class="i">Frank</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 157)" onmouseover="showTip(event, 'fs2', 157)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 158)" onmouseover="showTip(event, 'fs7', 158)" class="i">Web</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 159)" onmouseover="showTip(event, 'fs4', 159)" class="i">Http</span><span class="o">.</span><span class="i">HttpResource</span>

<span class="k">module</span> <span onmouseout="hideTip(event, 'fs79', 160)" onmouseover="showTip(event, 'fs79', 160)" class="i">Sample</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs80', 161)" onmouseover="showTip(event, 'fs80', 161)" class="i">getHandler</span> (<span onmouseout="hideTip(event, 'fs49', 162)" onmouseover="showTip(event, 'fs49', 162)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs33', 163)" onmouseover="showTip(event, 'fs33', 163)" class="i">HttpRequestMessage</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 164)" onmouseover="showTip(event, 'fs26', 164)" class="i">async</span> {
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs49', 165)" onmouseover="showTip(event, 'fs49', 165)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>()
    }
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs81', 166)" onmouseover="showTip(event, 'fs81', 166)" class="i">postHandler</span> (<span onmouseout="hideTip(event, 'fs49', 167)" onmouseover="showTip(event, 'fs49', 167)" class="i">request</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs33', 168)" onmouseover="showTip(event, 'fs33', 168)" class="i">HttpRequestMessage</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 169)" onmouseover="showTip(event, 'fs26', 169)" class="i">async</span> {
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs56', 170)" onmouseover="showTip(event, 'fs56', 170)" class="i">value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs49', 171)" onmouseover="showTip(event, 'fs49', 171)" class="i">request</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs60', 172)" onmouseover="showTip(event, 'fs60', 172)" class="i">Content</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 173)" onmouseover="showTip(event, 'fs61', 173)" class="i">ReadAsStringAsync</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs29', 174)" onmouseover="showTip(event, 'fs29', 174)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs62', 175)" onmouseover="showTip(event, 'fs62', 175)" class="i">AwaitTask</span>
        <span class="c">// Do something with value</span>
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs49', 176)" onmouseover="showTip(event, 'fs49', 176)" class="i">request</span><span class="o">.</span><span class="i">CreateResponse</span>(<span onmouseout="hideTip(event, 'fs82', 177)" onmouseover="showTip(event, 'fs82', 177)" class="i">HttpStatusCode</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs83', 178)" onmouseover="showTip(event, 'fs83', 178)" class="i">Created</span>, <span onmouseout="hideTip(event, 'fs56', 179)" onmouseover="showTip(event, 'fs56', 179)" class="i">value</span>)
    }

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs84', 180)" onmouseover="showTip(event, 'fs84', 180)" class="i">sampleResource</span> <span class="o">=</span>
        <span class="i">routeResource</span> <span class="s">&quot;</span><span class="s">/</span><span class="s">api</span><span class="s">/</span><span class="s">sample</span><span class="s">&quot;</span>
                    [ <span class="i">get</span> <span onmouseout="hideTip(event, 'fs80', 181)" onmouseover="showTip(event, 'fs80', 181)" class="i">getHandler</span>
                      <span class="i">post</span> <span onmouseout="hideTip(event, 'fs81', 182)" onmouseover="showTip(event, 'fs81', 182)" class="i">postHandler</span> ]
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs85', 183)" onmouseover="showTip(event, 'fs85', 183)" class="i">registerSample</span> <span onmouseout="hideTip(event, 'fs86', 184)" onmouseover="showTip(event, 'fs86', 184)" class="i">config</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs86', 185)" onmouseover="showTip(event, 'fs86', 185)" class="i">config</span> <span class="o">|&gt;</span> <span class="i">register</span> [<span onmouseout="hideTip(event, 'fs84', 186)" onmouseover="showTip(event, 'fs84', 186)" class="i">sampleResource</span>]</pre>
</td>
</tr>
</table>

</section>

<section>

<section>

<h1>Resources</h1>

</section>

<section>

<h2><a href="http://fsharp.org/guides/web">F# Software Foundation</a></h2>

</section>

<section>

<h2><a href="http://c4fsharp.net/">Community for F#</a></h2>

</section>

<section>

<h2>Sergey Tihon's <a href="http://sergeytihon.wordpress.com/category/f-weekly/">F# Weekly</a></h2>

</section>

<section>

<h2><a href="http://fsharpforfunandprofit.com/">F# for Fun and Profit</a></h2>

</section>

<section>

<h2><a href="http://msdn.microsoft.com/en-us/library/vstudio/hh314518(v=vs.100).aspx">Real World Functional Programming</a> on MSDN</h2>

</section>

</section>

<section>

<h1>Questions?</h1>

</section>



        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>
    <script>

        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            theme: 'night', // available themes are in /css/theme
            transition: 'default', // default/cube/page/concave/zoom/linear/fade/none

            // Parallax scrolling
            // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
            // parallaxBackgroundSize: '2100px 900px',

            // Optional libraries used to extend on reveal.js
            dependencies: [
                { src: 'lib/js/classList.js', condition: function () { return !document.body.classList; } },
                { src: 'plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
                { src: 'plugin/zoom-js/zoom.js', async: true, condition: function () { return !!document.body.classList; } },
                { src: 'plugin/notes/notes.js', async: true, condition: function () { return !!document.body.classList; } }
            ]
        });

    </script>
</body>
</html>

